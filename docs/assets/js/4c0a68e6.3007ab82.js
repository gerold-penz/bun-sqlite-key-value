"use strict";(self.webpackChunkbun_sqlite_key_value_docs=self.webpackChunkbun_sqlite_key_value_docs||[]).push([[2790],{610:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"ttl/index","title":"Cache Values with TTL","description":"You can specify a caching period when you open the database.","source":"@site/docs/080_ttl/index.md","sourceDirName":"080_ttl","slug":"/ttl/","permalink":"/bun-sqlite-key-value/ttl/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Count Valid Items","permalink":"/bun-sqlite-key-value/count/count_valid_items"},"next":{"title":"Set TTL","permalink":"/bun-sqlite-key-value/ttl/set_ttl"}}');var i=n(4848),a=n(8453);const l={},o="Cache Values with TTL",r={},c=[{value:"Example",id:"example",level:2}];function u(e){const t={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"cache-values-with-ttl",children:"Cache Values with TTL"})}),"\n",(0,i.jsxs)(t.p,{children:["You can specify a caching period when you open the database.\nThis period in milliseconds is then added with each write.\nIf you read the value within this period, the value is returned.\nIf the value is read after this period, ",(0,i.jsx)(t.code,{children:"undefined"})," is returned."]}),"\n",(0,i.jsx)(t.h2,{id:"example",children:"Example"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-typescript",children:'import { BunSqliteKeyValue } from "bun-sqlite-key-value"\n\nconst store = new BunSqliteKeyValue(":memory:", {ttlMs: 1000})\n\nconst KEY = "cache-key"\nstore.set(KEY, 12345)\n\nawait Bun.sleep(500)\nconsole.log(store.get(KEY)) // --\x3e 12345\n\nawait Bun.sleep(1000)\nconsole.log(store.get(KEY)) // --\x3e undefined\n'})})]})}function d(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>o});var s=n(6540);const i={},a=s.createContext(i);function l(e){const t=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);