<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>bun-sqlite-key-value</title><meta name="description" content="Documentation for bun-sqlite-key-value"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">bun-sqlite-key-value</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>bun-sqlite-key-value</h2></div><div class="tsd-panel tsd-typography"><a id="md:bun-sqlite-key-value" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Bun SQLite Key Value<a href="#md:bun-sqlite-key-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A super fast key-value store with SQLite that uses <strong>bun:sqlite</strong>
and v8 as a fast JSON replacement.</p>
<p><a href="https://bun.sh/">Bun's</a> lightning-fast
<a href="https://bun.sh/docs/api/sqlite">SQLite implementation</a> makes Bun-SQLite-Key-Value
perfect for a fast storage and cache solution with TTL support.
<em>You need <a href="https://bun.sh/">Bun</a> to be able to use this package.</em></p>
<p>The ideas for the implementation come from
<a href="https://github.com/notskamr/bun-sqlite-cache">bun-sqlite-cache</a> and
<a href="https://github.com/kirill-dev-pro/bun-kv">bun-kv</a>. Thank you very much!</p>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">bun-sqlite-key-value</span>
</code><button type="button">Copy</button></pre>

<a id="md:usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#md:usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Using this key value store is dead simple:
create a new BunSqliteKeyValue instance and you're set.
And if you want to save the data permanently, enter the path to the database.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// Use regular methods to write and read values.</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">, [</span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-8">2</span><span class="hl-1">, </span><span class="hl-8">3</span><span class="hl-1">, </span><span class="hl-8">4</span><span class="hl-1">])</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; [ 1, 2, 3, 4 ]</span><br/><br/><span class="hl-7">// Or use the data proxy object.</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">myKey</span><span class="hl-1"> = </span><span class="hl-2">&quot;Hello world!&quot;</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">myKey</span><span class="hl-1"> </span><span class="hl-7">// --&gt; &quot;Hello World&quot;</span><br/><br/><span class="hl-7">// Or use the short name for the data proxy object.</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">d</span><span class="hl-1">.</span><span class="hl-4">myKey</span><span class="hl-1"> = </span><span class="hl-8">123456789</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">d</span><span class="hl-1">.</span><span class="hl-4">myKey</span><span class="hl-1"> </span><span class="hl-7">// --&gt; 123456789</span>
</code><button type="button">Copy</button></pre>

<a id="md:open-database" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Open Database<a href="#md:open-database" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-4">filename</span><span class="hl-1">?, </span><span class="hl-4">options</span><span class="hl-1">?)</span>
</code><button type="button">Copy</button></pre>

<p>Opens and creates the SQLite database either in memory or on the file system.</p>
<a id="md:filename-optional" class="tsd-anchor"></a><h3 class="tsd-anchor-link">filename (optional)<a href="#md:filename-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The full path of the SQLite database to open.
Pass an empty string (<code>&quot;&quot;</code>) or <code>&quot;:memory:&quot;</code> or <code>undefined</code> for an in-memory database.</p>
<a id="md:options-optional" class="tsd-anchor"></a><h3 class="tsd-anchor-link">options (optional)<a href="#md:options-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>readonly?: boolean</code>:
Open the database as read-only (default: false).</p>
<p><code>create?: boolean</code>:
Allow creating a new database (default: true).
If the database folder does not exist, it will be created.</p>
<p><code>readwrite?: boolean</code>:
Open the database as read-write (default: true).</p>
<p><code>ttlMs?: boolean</code>:
Standard time period in milliseconds before
an entry written to the DB becomes invalid.</p>
<a id="md:example" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-7">// In-memory</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store1</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><span class="hl-7">// In-memory with 30 seconds default expiration timeout</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store2</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-5">undefined</span><span class="hl-1">, {</span><span class="hl-4">ttlMs:</span><span class="hl-1"> </span><span class="hl-8">30000</span><span class="hl-1">})</span><br/><span class="hl-7">// Store items in file system</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store3</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-2">&quot;./store3.sqlite&quot;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="md:write-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Write Value<a href="#md:write-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-4">any</span><span class="hl-1">, </span><span class="hl-4">ttlMs</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">)</span><br/><br/><span class="hl-4">data</span><span class="hl-1">.&lt;</span><span class="hl-4">key</span><span class="hl-1">&gt; = &lt;</span><span class="hl-9">value</span><span class="hl-1">&gt;</span><br/><span class="hl-1">data[&lt;</span><span class="hl-9">key</span><span class="hl-1">&gt;] = &lt;</span><span class="hl-9">value</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">d.&lt;</span><span class="hl-9">key</span><span class="hl-1">&gt; = &lt;</span><span class="hl-9">value</span><span class="hl-1">&gt;</span><br/><span class="hl-1">d[&lt;</span><span class="hl-9">key</span><span class="hl-1">&gt;] = &lt;</span><span class="hl-9">value</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Writes a value into the database.</p>
<a id="md:key" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">value<a href="#md:value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The value can be any object that can be serialized with
<a href="https://github.com/nodejs/node/blob/main/doc/api/v8.md#serialization-api">v8</a>.
This means that not only simple data types (string, number) are possible,
but also more complex types such as sets or maps.
You can find a list of the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm#supported_types">supported data types</a> here.</p>
<a id="md:ttlms-optional" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// Stays in database</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">myKey2</span><span class="hl-1"> = </span><span class="hl-2">&quot;my-value&quot;</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">[</span><span class="hl-2">&quot;myKey3&quot;</span><span class="hl-1">] = </span><span class="hl-2">&quot;my-value&quot;</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">d</span><span class="hl-1">.</span><span class="hl-4">myKey4</span><span class="hl-1"> = </span><span class="hl-2">&quot;my-value&quot;</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">d</span><span class="hl-1">[</span><span class="hl-2">&quot;myKey5&quot;</span><span class="hl-1">] = </span><span class="hl-2">&quot;my-value&quot;</span><br/><br/><span class="hl-7">// Becomes invalid after 30 seconds</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey6&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;item-with-ttl&quot;</span><span class="hl-1">, </span><span class="hl-8">30000</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Value<a href="#md:read-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-4">any</span><br/><br/><span class="hl-4">data</span><span class="hl-1">.&lt;</span><span class="hl-4">key</span><span class="hl-1">&gt;: </span><span class="hl-4">any</span><br/><span class="hl-4">data</span><span class="hl-1">[&lt;</span><span class="hl-4">key</span><span class="hl-1">&gt;]: </span><span class="hl-4">any</span><br/><br/><span class="hl-4">d</span><span class="hl-1">.&lt;</span><span class="hl-4">key</span><span class="hl-1">&gt;: </span><span class="hl-4">any</span><br/><span class="hl-4">d</span><span class="hl-1">[&lt;</span><span class="hl-4">key</span><span class="hl-1">&gt;]: </span><span class="hl-4">any</span>
</code><button type="button">Copy</button></pre>

<p>Reads a value from the database.</p>
<a id="md:key-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; &quot;my-value&quot;</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">myKey</span><span class="hl-1"> </span><span class="hl-7">// --&gt; &quot;my-value&quot;</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">[</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">] </span><span class="hl-7">// --&gt; &quot;my-value&quot;</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">d</span><span class="hl-1">.</span><span class="hl-4">myKey</span><span class="hl-1"> </span><span class="hl-7">// --&gt; &quot;my-value&quot;</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">d</span><span class="hl-1">[</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">] </span><span class="hl-7">// --&gt; &quot;my-value&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:random-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Random Value<a href="#md:random-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getRandomValue</span><span class="hl-1">(): </span><span class="hl-4">any</span><span class="hl-1"> </span><span class="hl-7">// --&gt; random value</span><br/><br/><span class="hl-0">randomValue</span><span class="hl-1">() </span><span class="hl-7">// --&gt; alias for getRandomValue()</span>
</code><button type="button">Copy</button></pre>

<p>Returns a random value or <code>undefined</code> if no valid item was found.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#randomkey">https://docs.keydb.dev/docs/commands/#randomkey</a></p>
<a id="md:read-item" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Item<a href="#md:read-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Reads the key and the value from the database.</p>
<pre><code class="typescript"><span class="hl-0">getItem</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): {</span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-4">any</span><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:key-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">item</span><span class="hl-1"> = </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getItem</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">item</span><span class="hl-1">)  </span><span class="hl-7">// --&gt; {key: &quot;my-key&quot;, value: &quot;my-value&quot;}</span>
</code><button type="button">Copy</button></pre>

<a id="md:random-item" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Random Item<a href="#md:random-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getRandomItem</span><span class="hl-1">() </span><span class="hl-7">// --&gt; random item</span><br/><br/><span class="hl-0">randomItem</span><span class="hl-1">() </span><span class="hl-7">// --&gt; alias for getRandomItem()</span>
</code><button type="button">Copy</button></pre>

<p>Returns a random item or <code>undefined</code> if no valid item was found.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#randomkey">https://docs.keydb.dev/docs/commands/#randomkey</a></p>
<a id="md:write-multiple-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Write Multiple Items<a href="#md:write-multiple-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">setItems</span><span class="hl-1">(</span><span class="hl-4">items</span><span class="hl-1">: {</span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-6">T</span><span class="hl-1">, ttlMs?</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">number</span><span class="hl-1">}[]) {</span>
</code><button type="button">Copy</button></pre>

<p>Adds a large number of items to the database and takes only
a small fraction of the time that <code>set()</code> would take individually.</p>
<a id="md:example-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// Add many records</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">setItems</span><span class="hl-1">([</span><br/><span class="hl-1">    {</span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;a:1&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-2">&quot;test-value-1&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">    {</span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-2">&quot;a:2&quot;</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-2">&quot;test-value-2&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">])</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-values" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Values<a href="#md:read-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getValues</span><span class="hl-1">(</span><span class="hl-4">startsWithOrKeys</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1"> | </span><span class="hl-4">string</span><span class="hl-1">[]): </span><span class="hl-4">any</span><span class="hl-1">[]</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-9">store</span><span class="hl-1">&gt;.</span><span class="hl-4">values</span>
</code><button type="button">Copy</button></pre>

<p>Reads the data from the database and returns an array with the values.</p>
<a id="md:startswithorkeys" class="tsd-anchor"></a><h3 class="tsd-anchor-link">startsWithOrKeys<a href="#md:startswithorkeys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>undefined</code>: Returns all values in an array.</p>
<p><code>string</code>: Returns all values in an array whose keys begin with the passed string.
If you plan the names of the keys well, more complex data can be stored.
It is advisable to divide keys into ranges using separators.
For example <code>&quot;language:de&quot;</code>, <code>&quot;language:en&quot;</code>, <code>&quot;language:it&quot;</code>.
A search for <code>&quot;language:&quot;</code> would return all languages.</p>
<p><code>string[]</code>: Array with keys. The returned array is exactly
the same size as the passed array.
Entries that are not found are returned as <code>undefined</code>.
Only exact matches with the keys are returned.</p>
<a id="md:example-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:it&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Italian&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getValues</span><span class="hl-1">() </span><span class="hl-7">// --&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getValues</span><span class="hl-1">(</span><span class="hl-2">&quot;language:&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">values</span><span class="hl-1"> </span><span class="hl-7">// --&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Items<a href="#md:read-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getItems</span><span class="hl-1">(</span><span class="hl-4">startsWithOrKeys</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1"> | </span><span class="hl-4">string</span><span class="hl-1">[]): {</span><span class="hl-4">key:</span><span class="hl-1"> </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">value:</span><span class="hl-1"> </span><span class="hl-4">any</span><span class="hl-1">}[]</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-9">store</span><span class="hl-1">&gt;.</span><span class="hl-4">items</span>
</code><button type="button">Copy</button></pre>

<p>Reads the data from the database and returns entries in an array as key-value pairs.</p>
<a id="md:startswithorkeys-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">startsWithOrKeys<a href="#md:startswithorkeys-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>undefined</code>: Returns all items (key, value) in an array.</p>
<p><code>string</code>: Returns all items (key, value) in an array whose keys begin with
the passed string.
If you plan the names of the keys well, more complex data can be stored.
It is advisable to divide keys into ranges using separators.
For example <code>&quot;language:de&quot;</code>, <code>&quot;language:en&quot;</code>, <code>&quot;language:it&quot;</code>.
A search for <code>&quot;language:&quot;</code> would return all languages.</p>
<p><code>string[]</code>: Array with keys. The returned array is exactly
the same size as the passed array.
Entries that are not found are returned as <code>undefined</code>.
Only exact matches with the keys are returned.</p>
<a id="md:example-6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:it&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Italian&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getItems</span><span class="hl-1">(</span><span class="hl-2">&quot;language:&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; [</span><br/><span class="hl-7">//     {key: &quot;language:de&quot;, value: &quot;German&quot;},</span><br/><span class="hl-7">//     {key: &quot;language:en&quot;, value: &quot;English&quot;},</span><br/><span class="hl-7">//     {key: &quot;language:it&quot;, value: &quot;Italian&quot;}</span><br/><span class="hl-7">// ]</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">items</span><span class="hl-1"> </span><span class="hl-7">// --&gt; [</span><br/><span class="hl-7">//     {key: &quot;language:de&quot;, value: &quot;German&quot;},</span><br/><span class="hl-7">//     {key: &quot;language:en&quot;, value: &quot;English&quot;},</span><br/><span class="hl-7">//     {key: &quot;language:it&quot;, value: &quot;Italian&quot;}</span><br/><span class="hl-7">// ]</span><br/>
</code><button type="button">Copy</button></pre>

<a id="md:multiple-databases" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Multiple Databases<a href="#md:multiple-databases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>It is no problem at all to use several databases and access them at the same time.</p>
<a id="md:example-7" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">join</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;node:path&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">dbDir</span><span class="hl-1"> = </span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-4">__dirname</span><span class="hl-1">, </span><span class="hl-2">&quot;databases&quot;</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">settingsPath</span><span class="hl-1"> = </span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-4">dbDir</span><span class="hl-1">, </span><span class="hl-2">&quot;settings.sqlite&quot;</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">languagesPath</span><span class="hl-1"> = </span><span class="hl-0">join</span><span class="hl-1">(</span><span class="hl-4">dbDir</span><span class="hl-1">, </span><span class="hl-2">&quot;languages.sqlite&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">settingsStore</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-4">settingsPath</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">languagesStore</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-4">languagesPath</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Write settings</span><br/><span class="hl-4">settingsStore</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;de&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">settingsStore</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;page-size&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;A4&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">settingsStore</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;screen-position&quot;</span><span class="hl-1">, {</span><span class="hl-4">top:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">, </span><span class="hl-4">left:</span><span class="hl-1"> </span><span class="hl-8">100</span><span class="hl-1">})</span><br/><br/><span class="hl-7">// Write languages</span><br/><span class="hl-4">languagesStore</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">languagesStore</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">languagesStore</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;it&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Italian&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Read all settings</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">settingItems</span><span class="hl-1"> = </span><span class="hl-4">settingsStore</span><span class="hl-1">.</span><span class="hl-0">getItems</span><span class="hl-1">()</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">settingItems</span><span class="hl-1">) </span><span class="hl-7">// -&gt; [</span><br/><span class="hl-7">//   {key: &quot;language&quot;, value: &quot;de&quot;},</span><br/><span class="hl-7">//   {key: &quot;page-size&quot;, value: &quot;A4&quot;},</span><br/><span class="hl-7">//   {key: &quot;screen-position&quot;, value: {top: 100, left: 100}},</span><br/><span class="hl-7">// ]</span><br/><br/><span class="hl-7">// Read all languages</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">languageValues</span><span class="hl-1"> = </span><span class="hl-4">languagesStore</span><span class="hl-1">.</span><span class="hl-0">getValues</span><span class="hl-1">()</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">languageValues</span><span class="hl-1">)  </span><span class="hl-7">// -&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span><br/><br/><span class="hl-7">// Read current language</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">languageKey</span><span class="hl-1"> = </span><span class="hl-4">settingsStore</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;language&quot;</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">currentLanguage</span><span class="hl-1"> = </span><span class="hl-4">languagesStore</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-4">languageKey</span><span class="hl-1">)</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Current language: &quot;</span><span class="hl-5">${</span><span class="hl-4">currentLanguage</span><span class="hl-5">}</span><span class="hl-2">&quot;`</span><span class="hl-1">)  </span><span class="hl-7">// -&gt; Current language: &quot;German&quot;</span><br/><br/><span class="hl-7">// Close DBs</span><br/><span class="hl-4">settingsStore</span><span class="hl-1">.</span><span class="hl-0">close</span><span class="hl-1">()</span><br/><span class="hl-4">languagesStore</span><span class="hl-1">.</span><span class="hl-0">close</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-and-write-binary-files-images" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read and Write Binary Files (Images)<a href="#md:read-and-write-binary-files-images" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>SQLite has no problem with images and other binaries.
The maximum size of a binary file is 2 GB.</p>
<a id="md:example-async" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example (async)<a href="#md:example-async" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// Read file from filesystem</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">sourceFile</span><span class="hl-1"> = </span><span class="hl-4">Bun</span><span class="hl-1">.</span><span class="hl-0">file</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Source File Path&gt;&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Write ArrayBuffer into database (async !!!)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">, </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">sourceFile</span><span class="hl-1">.</span><span class="hl-0">arrayBuffer</span><span class="hl-1">())</span><br/><br/><span class="hl-7">// Read ArrayBuffer from database</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">targetArrayBuffer</span><span class="hl-1"> = </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Write target file to filesystem (async !!!)</span><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Bun</span><span class="hl-1">.</span><span class="hl-0">write</span><span class="hl-1">(</span><span class="hl-4">Bun</span><span class="hl-1">.</span><span class="hl-0">file</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Target File Path&gt;&quot;</span><span class="hl-1">), </span><span class="hl-4">targetArrayBuffer</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-sync" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example (sync)<a href="#md:example-sync" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">readFileSync</span><span class="hl-1">, </span><span class="hl-4">writeFileSync</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;node:fs&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// Read content from filesystem</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">sourceContent</span><span class="hl-1"> = </span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Source File Path&gt;&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Write Buffer into database</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">, </span><span class="hl-4">sourceContent</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Read Buffer from database</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">targetBuffer</span><span class="hl-1"> = </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Write target file to filesystem</span><br/><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Target File Path&gt;&quot;</span><span class="hl-1">, </span><span class="hl-4">targetBuffer</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="md:cache-values-with-ttl" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Cache Values with TTL<a href="#md:cache-values-with-ttl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can specify a caching period when you open the database.
This period in milliseconds is then added with each write.
If you read the value within this period, the value is returned.
If the value is read after this period, <code>undefined</code> is returned.</p>
<a id="md:example-8" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-5">undefined</span><span class="hl-1">, {</span><span class="hl-4">ttlMs:</span><span class="hl-1"> </span><span class="hl-8">1000</span><span class="hl-1">})</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">KEY</span><span class="hl-1"> = </span><span class="hl-2">&quot;cache-key&quot;</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-6">KEY</span><span class="hl-1">, </span><span class="hl-8">12345</span><span class="hl-1">)</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Bun</span><span class="hl-1">.</span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-8">500</span><span class="hl-1">)</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-6">KEY</span><span class="hl-1">)) </span><span class="hl-7">// --&gt; 12345</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Bun</span><span class="hl-1">.</span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-8">1000</span><span class="hl-1">)</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-6">KEY</span><span class="hl-1">)) </span><span class="hl-7">// --&gt; undefined</span>
</code><button type="button">Copy</button></pre>

<a id="md:has-key" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Has (key)<a href="#md:has-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">has</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">): </span><span class="hl-4">boolean</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-9">key</span><span class="hl-1">&gt; </span><span class="hl-5">in</span><span class="hl-1"> &lt;</span><span class="hl-4">store</span><span class="hl-1">&gt;.</span><span class="hl-4">data</span><br/><span class="hl-1">&lt;</span><span class="hl-9">key</span><span class="hl-1">&gt; </span><span class="hl-5">in</span><span class="hl-1"> &lt;</span><span class="hl-4">store</span><span class="hl-1">&gt;.</span><span class="hl-4">d</span>
</code><button type="button">Copy</button></pre>

<p>Checks if key exists. Returns <code>false</code> if the item is expired.</p>
<a id="md:example-9" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">has</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; false</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1"> </span><span class="hl-5">in</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-7">// --&gt; false </span>
</code><button type="button">Copy</button></pre>

<a id="md:read-keys" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Keys<a href="#md:read-keys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getKeys</span><span class="hl-1">(</span><span class="hl-4">startsWithOrKeys</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1"> | </span><span class="hl-4">string</span><span class="hl-1">[]): </span><span class="hl-4">string</span><span class="hl-1">[]</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-9">store</span><span class="hl-1">&gt;.</span><span class="hl-4">keys</span><span class="hl-1"> </span><span class="hl-7">// --&gt; all keys</span>
</code><button type="button">Copy</button></pre>

<p>Reads the keys from the database and returns an array.</p>
<a id="md:startswithorkeys-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">startsWithOrKeys<a href="#md:startswithorkeys-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>undefined</code>: Returns all keys in an array.</p>
<p><code>string</code>: Returns an array with the keys that begin with the passed string.
If you plan the names of the keys well, more complex data can be stored.
It is advisable to divide keys into ranges using separators.
For example <code>&quot;language:de&quot;</code>, <code>&quot;language:en&quot;</code>, <code>&quot;language:it&quot;</code>.
A search for <code>&quot;language:&quot;</code> would return all languages.</p>
<p><code>string[]</code>: Array with keys.
Only exact matches with the keys are returned.</p>
<a id="md:example-10" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:es&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Esperanto&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getKeys</span><span class="hl-1">() </span><span class="hl-7">// --&gt; [&quot;language:de&quot;, &quot;language:en&quot;, &quot;language:es&quot;]</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">keys</span><span class="hl-1"> </span><span class="hl-7">// --&gt; [&quot;language:de&quot;, &quot;language:en&quot;, &quot;language:es&quot;]</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getKeys</span><span class="hl-1">(</span><span class="hl-2">&quot;language:e&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; [&quot;language:en&quot;, &quot;language:es&quot;]</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getKeys</span><span class="hl-1">([</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;language:fr&quot;</span><span class="hl-1">]) </span><span class="hl-7">// --&gt; [&quot;language:de&quot;]</span><br/>
</code><button type="button">Copy</button></pre>

<a id="md:random-key" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Random Key<a href="#md:random-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getRandomKey</span><span class="hl-1">() </span><span class="hl-7">// --&gt; random key</span><br/><br/><span class="hl-0">randomKey</span><span class="hl-1">() </span><span class="hl-7">// --&gt; alias for getRandomKey()</span>
</code><button type="button">Copy</button></pre>

<p>Returns a random key or <code>undefined</code> if no valid item was found.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#randomkey">https://docs.keydb.dev/docs/commands/#randomkey</a></p>
<a id="md:delete-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Delete Items<a href="#md:delete-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">delete</span><span class="hl-1">()</span><br/><span class="hl-5">delete</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">)</span><br/><span class="hl-1">delete(</span><span class="hl-4">keys</span><span class="hl-1">: </span><span class="hl-9">string</span><span class="hl-1">[])</span><br/><span class="hl-1">clear()  </span><span class="hl-7">// --&gt; alias for `delete()`</span><br/><br/><span class="hl-1">delete &lt;</span><span class="hl-9">store</span><span class="hl-1">&gt;.data.&lt;</span><span class="hl-9">key</span><span class="hl-1">&gt;</span><br/><span class="hl-1">delete &lt;</span><span class="hl-9">store</span><span class="hl-1">&gt;.d.&lt;</span><span class="hl-9">key</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Deletes all items if no parameter was passed.</p>
<p><code>key: string</code>: Deletes the entry whose key was passed as a string.</p>
<p><code>keys: string[]</code>: Deletes the entries whose keys were passed in an array.</p>
<a id="md:example-11" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// Delete all items</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">delete</span><span class="hl-1">()</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">clear</span><span class="hl-1">()</span><br/><br/><span class="hl-7">// Delete one item</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">delete</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">)</span><br/><span class="hl-5">delete</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">myKey</span><br/><span class="hl-5">delete</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">d</span><span class="hl-1">.</span><span class="hl-4">myKey</span><br/><br/><span class="hl-7">// Delete multiple items</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">delete</span><span class="hl-1">([</span><span class="hl-2">&quot;key1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;key2&quot;</span><span class="hl-1">])</span>
</code><button type="button">Copy</button></pre>

<a id="md:delete-old-expiring-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Delete Old Expiring Items<a href="#md:delete-old-expiring-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">deleteOldExpiringItems</span><span class="hl-1">(</span><span class="hl-4">maxExpiringItemsInDb</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>If there are more expiring items in the database than <code>maxExpiringItemsInDb</code>,
the oldest items are deleted until there are only <code>maxExpiringItemsInDb</code> items with
an expiration date in the database.</p>
<a id="md:example-12" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;static:1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;static:2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-8">40</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-8">45</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:3&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-8">50</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">deleteOldExpiringItems</span><span class="hl-1">(</span><span class="hl-8">2</span><span class="hl-1">)</span><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getKeys</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:&quot;</span><span class="hl-1">))</span><br/><span class="hl-7">// --&gt; [ &quot;dynamic:2&quot;, &quot;dynamic:3&quot; ]</span>
</code><button type="button">Copy</button></pre>

<a id="md:count-all-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Count All Items<a href="#md:count-all-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getCount</span><span class="hl-1">(): </span><span class="hl-4">number</span><br/><br/><span class="hl-4">length</span><span class="hl-1">  </span><span class="hl-7">// --&gt; alias for `getCount()`</span>
</code><button type="button">Copy</button></pre>

<p>Returns the number of all items, including those that have already expired.
The fact that possibly expired entries are also counted is for reasons of speed.
Use <code>getCountValid()</code> if you want to get the number of items that have not yet expired.
If you do not use <code>ttlMs</code> (time to live), <code>getCount()</code> is faster than <code>getCountValid()</code>.</p>
<a id="md:example-13" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value1&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value2&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getCount</span><span class="hl-1">() </span><span class="hl-7">// --&gt; 2</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-4">length</span><span class="hl-1"> </span><span class="hl-7">// --&gt; 2</span>
</code><button type="button">Copy</button></pre>

<a id="md:count-valid-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Count Valid Items<a href="#md:count-valid-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getCountValid</span><span class="hl-1">(</span><span class="hl-4">deleteExpired</span><span class="hl-1">?: </span><span class="hl-4">boolean</span><span class="hl-1">): </span><span class="hl-4">number</span>
</code><button type="button">Copy</button></pre>

<p>Returns the number of valid (non-expired) items.
Can also delete the expired items.</p>
<a id="md:deleteexpired" class="tsd-anchor"></a><h3 class="tsd-anchor-link">deleteExpired<a href="#md:deleteexpired" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If the parameter is not specified or <code>false</code> is passed,
then only the entries that have no expiration date or
whose expiration date is in the future are counted.</p>
<p>If <code>true</code> is passed, the expired entries are deleted first
before the entries are counted.</p>
<a id="md:example-14" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value1&quot;</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value2&quot;</span><span class="hl-1">, </span><span class="hl-8">100</span><span class="hl-1">)</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getCountValid</span><span class="hl-1">() </span><span class="hl-7">// --&gt; 2</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">Bun</span><span class="hl-1">.</span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-8">500</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">getCountValid</span><span class="hl-1">() </span><span class="hl-7">// --&gt; 1</span>
</code><button type="button">Copy</button></pre>

<a id="md:increment" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Increment<a href="#md:increment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">incrBy</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> = </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-4">ttlMs</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">): </span><span class="hl-4">number</span>
</code><button type="button">Copy</button></pre>

<p>Increments the saved number by <code>incrBy</code> (default = 1),
saves the new number and returns it.
If the key does not yet exist in the database,
the value is set to 0 before being incremented by <code>incrBy</code>.
If a string is stored in the database that can be converted into a number,
this is converted first.
If the stored value cannot be converted into a number, <code>NaN</code> is returned.</p>
<a id="md:key-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:incrby" class="tsd-anchor"></a><h3 class="tsd-anchor-link">incrBy<a href="#md:incrby" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The stored number is increased by this value.</p>
<a id="md:ttlms-optional-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-15" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; 1</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; 2</span>
</code><button type="button">Copy</button></pre>

<a id="md:decrement" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Decrement<a href="#md:decrement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">decr</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">decrBy</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1"> = </span><span class="hl-8">1</span><span class="hl-1">, </span><span class="hl-4">ttlMs</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">): </span><span class="hl-4">number</span>
</code><button type="button">Copy</button></pre>

<p>Decrements the saved number by <code>decrBy</code> (default = 1),
saves the new number and returns it.
If the key does not yet exist in the database,
the value is set to 0 before being decremented by <code>decrBy</code>.
If a string is stored in the database that can be converted into a number,
this is converted first.
If the stored value cannot be converted into a number, <code>NaN</code> is returned.</p>
<a id="md:key-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:incrby-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">incrBy<a href="#md:incrby-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The stored number is decreased by this value.</p>
<a id="md:ttlms-optional-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-16" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-8">10</span><span class="hl-1">)</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">decr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; 9</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">decr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; 8</span>
</code><button type="button">Copy</button></pre>

<a id="md:append" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Append<a href="#md:append" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1">, </span><span class="hl-4">ttlMs</span><span class="hl-1">?: </span><span class="hl-4">number</span><span class="hl-1">): </span><span class="hl-4">number</span>
</code><button type="button">Copy</button></pre>

<p>If key already exists, this command appends the value at the end of the string.
If key does not exist it is created and set as an empty string,
so <code>append()</code> will be similar to <code>set()</code> in this special case.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#append">https://docs.keydb.dev/docs/commands/#append</a></p>
<p>Returns the length of the string after the append operation.</p>
<a id="md:key-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:value-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">value<a href="#md:value-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The string that is appended to the existing string.</p>
<a id="md:ttlms-optional-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-17" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-17" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">BunSqliteKeyValue</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">store</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Hello!&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; 6</span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;World!&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; 12 </span><br/><span class="hl-4">store</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-7">// --&gt; &quot;Hello!World!&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:all-functions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">All Functions<a href="#md:all-functions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:database" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Database<a href="#md:database" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>new BunSqliteKeyValue()</code> --&gt; Open database</li>
<li><code>close()</code> --&gt; Close database</li>
</ul>
<a id="md:set-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Set value<a href="#md:set-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>set(key: string, value: any)</code></li>
<li><code>setValue(key: string, value: any)</code> --&gt; alias for set()</li>
<li><code>&lt;store&gt;.data.&lt;key&gt; = &lt;value&gt;</code></li>
<li><code>&lt;store&gt;.d.&lt;key&gt; = &lt;value&gt;</code></li>
</ul>
<a id="md:set-items" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Set items<a href="#md:set-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>setItems({key: string, value: any}[])</code></li>
</ul>
<a id="md:get-value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get value<a href="#md:get-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>get(key: string): any</code></li>
<li><code>getValue(key: string)</code> --&gt; alias for get()</li>
<li><code>&lt;store&gt;.data.&lt;key&gt;</code></li>
<li><code>&lt;store&gt;.d.&lt;key&gt;</code></li>
<li><code>getSet(key: string, value: any): any</code></li>
<li><code>getRandomValue(): any</code></li>
<li><code>randomValue(): any</code> --&gt; alias for getRandomValue()</li>
</ul>
<a id="md:get-item" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get item<a href="#md:get-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>getItem(key: string)</code> --&gt; Object</li>
<li><code>getRandomItem()</code> --&gt; Object</li>
<li><code>randomItem()</code> --&gt; Alias for getRandomItem()</li>
</ul>
<a id="md:get-items-as-array" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get items as Array<a href="#md:get-items-as-array" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>getItems()</code> --&gt; Array with all items</li>
<li><code>getItems(startsWith: string)</code> --&gt; Array</li>
<li><code>getItems(keys: string[])</code> --&gt; Array</li>
<li><code>getItemsArray()</code> --&gt; alias for getItems()</li>
<li><code>getItemsArray(startsWith: string)</code> --&gt; alias for getItems()</li>
<li><code>getItemsArray(keys: string[])</code> --&gt; alias for getItems()</li>
<li><code>items</code> --&gt; alias for getItems()</li>
</ul>
<a id="md:get-items-as-object" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get items as Object<a href="#md:get-items-as-object" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>getItemsObject()</code> --&gt; Object with all items</li>
<li><code>getItemsObject(startsWith: string)</code> --&gt; Object</li>
<li><code>getItemsObject(keys: string[])</code> --&gt; Object</li>
</ul>
<a id="md:get-items-as-map" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get items as Map()<a href="#md:get-items-as-map" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>getItemsMap()</code> --&gt; Map with all items</li>
<li><code>getItemsMap(startsWith: string)</code> --&gt; Map</li>
<li><code>getItemsMap(keys: string[])</code> --&gt; Map</li>
</ul>
<a id="md:get-values-as-array" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get values as Array<a href="#md:get-values-as-array" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>getValues()</code> --&gt; Array with all values</li>
<li><code>getValues(startsWith: string)</code> --&gt; Array</li>
<li><code>getValues(keys: string[])</code> --&gt; Array</li>
<li><code>getValuesArray()</code> --&gt; alias for getValues()</li>
<li><code>getValuesArray(startsWith: string)</code> --&gt; alias for getValues()</li>
<li><code>getValuesArray(keys: string[])</code> --&gt; alias for getValues()</li>
<li><code>values</code> --&gt; alias for getValues()</li>
</ul>
<a id="md:get-values-as-set" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get values as Set()<a href="#md:get-values-as-set" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>getValuesSet()</code> --&gt; Set with all values</li>
<li><code>getValuesSet(startsWith: string)</code> --&gt; Set</li>
<li><code>getValuesSet(keys: string[])</code> --&gt; Set</li>
</ul>
<a id="md:delete" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Delete<a href="#md:delete" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>delete()</code> --&gt; Delete all items</li>
<li><code>delete(key: string)</code> --&gt; Delete item</li>
<li><code>delete(keys: string[])</code> --&gt; Delete items</li>
<li><code>clear()</code> --&gt; alias for delete()</li>
<li><code>deleteOldExpiringItems(maxExpiringItemsInDb: number)</code> --&gt; Delete items</li>
<li><code>delete &lt;store&gt;.data.&lt;key&gt;</code></li>
<li><code>delete &lt;store&gt;.d.&lt;key&gt;</code></li>
</ul>
<a id="md:count" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Count<a href="#md:count" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>getCount()</code> --&gt; Number</li>
<li><code>length</code> --&gt; alias for getCount()</li>
<li><code>getCountValid(deleteExpired?: boolean)</code> --&gt; Number</li>
</ul>
<a id="md:get-keys" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Get keys<a href="#md:get-keys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>has(key: string)</code> --&gt; Boolean</li>
<li><code>getKeys()</code> --&gt; Array with all Keys</li>
<li><code>getKeys(startsWith: string)</code> --&gt; Array</li>
<li><code>getKeys(keys: string[])</code> --&gt; Array</li>
<li><code>keys</code> --&gt; alias for getKeys()</li>
<li><code>&lt;key&gt; in &lt;store&gt;.data</code></li>
<li><code>&lt;key&gt; in &lt;store&gt;.d</code></li>
<li><code>getRandomKey()</code></li>
<li><code>randomKey()</code>  --&gt; alias for getRandomKey()</li>
</ul>
<a id="md:math-operations" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Math operations<a href="#md:math-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>incr()</code> --&gt; Number</li>
<li><code>decr()</code> --&gt; Number</li>
</ul>
<a id="md:string-operations" class="tsd-anchor"></a><h3 class="tsd-anchor-link">String operations<a href="#md:string-operations" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><ul>
<li><code>append()</code> --&gt; Number</li>
</ul>
<a id="md:sqlite-as-base-for-a-key-value-storage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">SQLite as base for a key value storage<a href="#md:sqlite-as-base-for-a-key-value-storage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>SQLite provides a solid and well-tested foundation.
SQLite reliably takes care of saving and reading data -
both for short strings and for larger BLOBs.
It provides a robust foundation on which to build.
Even if SQLite is not fully utilized and no relations between tables are required,
this is not a disadvantage.</p>
<p>Please give this <a href="https://github.com/gerold-penz/bun-sqlite-key-value">GitHub project</a>
a  if this project is useful to you. Thank you very much!
And if you speak German, here is my business homepage:
<a href="https://gp-softwaretechnik.at/">GP-Softwaretechnik</a>
Maybe you will find something interesting for you there. </p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:bun-sqlite-key-value"><span>Bun SQLite <wbr/>Key <wbr/>Value</span></a><ul><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><a href="#md:open-database"><span>Open <wbr/>Database</span></a></li><li><ul><li><a href="#md:filename-optional"><span>filename (optional)</span></a></li><li><a href="#md:options-optional"><span>options (optional)</span></a></li><li><a href="#md:example"><span>Example</span></a></li></ul></li><li><a href="#md:write-value"><span>Write <wbr/>Value</span></a></li><li><ul><li><a href="#md:key"><span>key</span></a></li><li><a href="#md:value"><span>value</span></a></li><li><a href="#md:ttlms-optional"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-1"><span>Example</span></a></li></ul></li><li><a href="#md:read-value"><span>Read <wbr/>Value</span></a></li><li><ul><li><a href="#md:key-1"><span>key</span></a></li><li><a href="#md:example-2"><span>Example</span></a></li></ul></li><li><a href="#md:random-value"><span>Random <wbr/>Value</span></a></li><li><a href="#md:read-item"><span>Read <wbr/>Item</span></a></li><li><ul><li><a href="#md:key-2"><span>key</span></a></li><li><a href="#md:example-3"><span>Example</span></a></li></ul></li><li><a href="#md:random-item"><span>Random <wbr/>Item</span></a></li><li><a href="#md:write-multiple-items"><span>Write <wbr/>Multiple <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-4"><span>Example</span></a></li></ul></li><li><a href="#md:read-values"><span>Read <wbr/>Values</span></a></li><li><ul><li><a href="#md:startswithorkeys"><span>starts<wbr/>With<wbr/>Or<wbr/>Keys</span></a></li><li><a href="#md:example-5"><span>Example</span></a></li></ul></li><li><a href="#md:read-items"><span>Read <wbr/>Items</span></a></li><li><ul><li><a href="#md:startswithorkeys-1"><span>starts<wbr/>With<wbr/>Or<wbr/>Keys</span></a></li><li><a href="#md:example-6"><span>Example</span></a></li></ul></li><li><a href="#md:multiple-databases"><span>Multiple <wbr/>Databases</span></a></li><li><ul><li><a href="#md:example-7"><span>Example</span></a></li></ul></li><li><a href="#md:read-and-write-binary-files-images"><span>Read and <wbr/>Write <wbr/>Binary <wbr/>Files (<wbr/>Images)</span></a></li><li><ul><li><a href="#md:example-async"><span>Example (async)</span></a></li><li><a href="#md:example-sync"><span>Example (sync)</span></a></li></ul></li><li><a href="#md:cache-values-with-ttl"><span>Cache <wbr/>Values with TTL</span></a></li><li><ul><li><a href="#md:example-8"><span>Example</span></a></li></ul></li><li><a href="#md:has-key"><span>Has (key)</span></a></li><li><ul><li><a href="#md:example-9"><span>Example</span></a></li></ul></li><li><a href="#md:read-keys"><span>Read <wbr/>Keys</span></a></li><li><ul><li><a href="#md:startswithorkeys-2"><span>starts<wbr/>With<wbr/>Or<wbr/>Keys</span></a></li><li><a href="#md:example-10"><span>Example</span></a></li></ul></li><li><a href="#md:random-key"><span>Random <wbr/>Key</span></a></li><li><a href="#md:delete-items"><span>Delete <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-11"><span>Example</span></a></li></ul></li><li><a href="#md:delete-old-expiring-items"><span>Delete <wbr/>Old <wbr/>Expiring <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-12"><span>Example</span></a></li></ul></li><li><a href="#md:count-all-items"><span>Count <wbr/>All <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-13"><span>Example</span></a></li></ul></li><li><a href="#md:count-valid-items"><span>Count <wbr/>Valid <wbr/>Items</span></a></li><li><ul><li><a href="#md:deleteexpired"><span>delete<wbr/>Expired</span></a></li><li><a href="#md:example-14"><span>Example</span></a></li></ul></li><li><a href="#md:increment"><span>Increment</span></a></li><li><ul><li><a href="#md:key-3"><span>key</span></a></li><li><a href="#md:incrby"><span>incr<wbr/>By</span></a></li><li><a href="#md:ttlms-optional-1"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-15"><span>Example</span></a></li></ul></li><li><a href="#md:decrement"><span>Decrement</span></a></li><li><ul><li><a href="#md:key-4"><span>key</span></a></li><li><a href="#md:incrby-1"><span>incr<wbr/>By</span></a></li><li><a href="#md:ttlms-optional-2"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-16"><span>Example</span></a></li></ul></li><li><a href="#md:append"><span>Append</span></a></li><li><ul><li><a href="#md:key-5"><span>key</span></a></li><li><a href="#md:value-1"><span>value</span></a></li><li><a href="#md:ttlms-optional-3"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-17"><span>Example</span></a></li></ul></li><li><a href="#md:all-functions"><span>All <wbr/>Functions</span></a></li><li><ul><li><a href="#md:database"><span>Database</span></a></li><li><a href="#md:set-value"><span>Set value</span></a></li><li><a href="#md:set-items"><span>Set items</span></a></li><li><a href="#md:get-value"><span>Get value</span></a></li><li><a href="#md:get-item"><span>Get item</span></a></li><li><a href="#md:get-items-as-array"><span>Get items as <wbr/>Array</span></a></li><li><a href="#md:get-items-as-object"><span>Get items as <wbr/>Object</span></a></li><li><a href="#md:get-items-as-map"><span>Get items as <wbr/>Map()</span></a></li><li><a href="#md:get-values-as-array"><span>Get values as <wbr/>Array</span></a></li><li><a href="#md:get-values-as-set"><span>Get values as <wbr/>Set()</span></a></li><li><a href="#md:delete"><span>Delete</span></a></li><li><a href="#md:count"><span>Count</span></a></li><li><a href="#md:get-keys"><span>Get keys</span></a></li><li><a href="#md:math-operations"><span>Math operations</span></a></li><li><a href="#md:string-operations"><span>String operations</span></a></li></ul></li><li><a href="#md:sqlite-as-base-for-a-key-value-storage"><span>SQLite as base for a key value storage</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>bun-sqlite-key-value</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
