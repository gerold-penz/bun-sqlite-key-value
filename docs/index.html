<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Bun SQlite Key Value</title><meta name="description" content="Documentation for Bun SQlite Key Value"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><link rel="stylesheet" href="assets/custom.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"><a href="https://github.com/gerold-penz/bun-sqlite-key-value">GitHub</a></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Bun SQlite Key Value</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h2>Bun SQlite Key Value</h2></div><div class="tsd-panel tsd-typography"><a id="md:bun-sqlite-key-value" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Bun SQLite Key Value<a href="#md:bun-sqlite-key-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A super fast key-value store with SQLite that uses <strong>bun:sqlite</strong>
and v8 as a fast JSON replacement.</p>
<p><a href="LICENSE"><img src="https://img.shields.io/badge/license-MIT-brightgreen" alt="license"></a>
<a href="https://www.npmjs.com/package/bun-sqlite-key-value" target="_blank" class="external"><img src="https://img.shields.io/npm/v/bun-sqlite-key-value.svg" alt="npm version"></a>
<a href="https://www.npmjs.com/package/bun-sqlite-key-value" target="_blank" class="external"><img src="https://img.shields.io/npm/dw/bun-sqlite-key-value" alt="npm downloads"></a>
<a href="https://bun.sh/docs/api/sqlite" target="_blank" class="external"><img src="https://img.shields.io/badge/bun-%3Asqlite-044a64?style=flat&amp;logo=Bun&amp;logoColor=f6dece&amp;link=https%3A%2F%2Fbun.sh%2Fdocs%2Fapi%2Fsqlite" alt="bun:sqlite"></a></p>
<p><a href="https://bun.sh/" target="_blank" class="external">Bun's</a> lightning-fast
<a href="https://bun.sh/docs/api/sqlite" target="_blank" class="external">SQLite implementation</a> makes Bun-SQLite-Key-Value
perfect for a fast and reliable storage and cache solution with TTL support.
<em>You need <a href="https://bun.sh/" target="_blank" class="external">Bun</a> to be able to use this package.</em></p>
<p>The ideas for the implementation come from
<a href="https://github.com/notskamr/bun-sqlite-cache" target="_blank" class="external">bun-sqlite-cache</a> and
<a href="https://github.com/kirill-dev-pro/bun-kv" target="_blank" class="external">bun-kv</a>. Thank you very much!</p>
<a id="md:table-of-contents" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Table of Contents<a href="#md:table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="#md:installation">Installation</a></li>
<li><a href="#md:usage">Usage</a></li>
<li>Database Usage
<ul>
<li><a href="#md:open-database">Open Database</a></li>
<li><a href="#md:close-database">Close Database</a></li>
</ul>
</li>
<li>Write and Read Values
<ul>
<li><a href="#md:write-value"><code>set()</code></a></li>
<li><a href="#md:read-value"><code>get()</code></a></li>
<li><a href="#md:read-and-write-value-in-one-step"><code>getSet()</code></a></li>
<li><a href="#md:read-multiple-values"><code>getValues()</code></a></li>
<li><code>getValuesAsSet()</code> --&gt; Set with values</li>
</ul>
</li>
<li>Write and Read Items
<ul>
<li><a href="#md:write-multiple-items"><code>setItems()</code></a></li>
<li><a href="#md:read-item"><code>getItem()</code></a></li>
<li><a href="#md:read-multiple-items"><code>getItems()</code></a></li>
<li><code>getItemsAsObject()</code> --&gt; Object with items</li>
<li><code>getItemsAsMap()</code> --&gt; Map with items</li>
<li><a href="#md:read-and-write-binary-files-images">Read and Write Binary Files (Images)</a></li>
</ul>
</li>
<li>Keys
<ul>
<li><a href="#md:has-key"><code>has()</code></a></li>
<li><a href="#md:read-multiple-keys"><code>getKeys()</code></a></li>
<li><a href="#md:rename-key"><code>rename()</code></a></li>
</ul>
</li>
<li>Delete Items
<ul>
<li><a href="#md:delete-items"><code>delete()</code></a></li>
<li><a href="#md:delete-expired-items"><code>deleteExpired()</code></a></li>
<li><a href="#md:delete-old-expiring-items"><code>deleteOldExpiringItems()</code></a></li>
</ul>
</li>
<li>Count Items
<ul>
<li><a href="#md:count-all-items"><code>getCount()</code></a></li>
<li><a href="#md:count-valid-items"><code>getCountValid()</code></a></li>
</ul>
</li>
<li>Expiration/TTL (Time To Live)
<ul>
<li><a href="#md:cache-values-with-ttl">Cache Values with TTL</a></li>
<li><a href="#md:set-ttl"><code>setTtl()</code></a></li>
<li><a href="#md:get-ttl"><code>getTtl()</code></a></li>
</ul>
</li>
<li>Random
<ul>
<li><a href="#md:random-value"><code>getRandomValue()</code></a></li>
<li><a href="#md:random-item"><code>getRandomItem()</code></a></li>
<li><a href="#md:random-key"><code>getRandomKey()</code></a></li>
</ul>
</li>
<li>Math
<ul>
<li><a href="#md:increment"><code>incr()</code></a></li>
<li><a href="#md:decrement"><code>decr()</code></a></li>
</ul>
</li>
<li>String
<ul>
<li><a href="#md:append"><code>append()</code></a></li>
</ul>
</li>
<li>Hash (Map Object)
<ul>
<li><a href="#md:hash-map-object---write-value"><code>hSet()</code></a></li>
<li><a href="#md:hash-map-object---read-value"><code>hGet()</code></a></li>
<li><a href="#md:hash-map-object---write-multiple-values"><code>hmSet()</code></a></li>
<li><a href="#md:hash-map-object---read-multiple-values"><code>hmGet()</code></a></li>
<li><a href="#md:hash-map-object---has-field"><code>hHasField()</code></a></li>
<li><a href="#md:hash-map-object---count-fields"><code>hGetCount()</code></a></li>
<li><a href="#md:hash-map-object---get-all-field-names"><code>hGetFields()</code></a></li>
<li><a href="#md:hash-map-object---get-all-values"><code>hGetValues()</code></a></li>
<li><a href="#md:hash-map-object---delete-field"><code>hDelete()</code></a></li>
<li><code>hIncr()</code> --&gt; Increments the value of a field.</li>
<li><code>hDecr()</code> --&gt; Decrements the value of a field.</li>
</ul>
</li>
<li>List (Array Object)
<ul>
<li><code>lPush()</code> --&gt; Insert elements at the begin of the list.</li>
<li><code>rPush()</code> --&gt; Insert elements at the end of the list.</li>
<li><code>lPop()</code> --&gt; Returns elements at the begin of the list and removes them.</li>
<li><code>rPop()</code> --&gt; Returns elements at the end of the list and removes them.</li>
<li><code>lIndex()</code> --&gt; Returns the element at the specified index of the list.</li>
<li><code>lLen()</code> --&gt; Returns the length of the list.</li>
<li><code>lSet()</code> --&gt; Updates the element at the specified index of the list.</li>
</ul>
</li>
<li>Tags (Labels)
<ul>
<li><code>addTag()</code> --&gt; Adds a tag to an item.</li>
<li><code>deleteTag()</code> --&gt; Deletes a tag of an item.</li>
<li><code>deleteTags()</code> --&gt; Deletes multiple tags or all tags of an item.</li>
<li><code>deleteTaggedItems()</code> --&gt; Deletes tagged items.</li>
<li><code>getTaggedKeys()</code> --&gt; Returns tagged keys.</li>
<li><code>getTaggedValues()</code> --&gt; Returns tagged values.</li>
<li><code>getTaggedItems()</code> --&gt; Returns tagged items.</li>
</ul>
</li>
<li>Extended database topics
<ul>
<li><a href="#md:multiple-databases">Multiple Databases</a></li>
<li><a href="#md:database-transactions">Database Transactions</a></li>
<li><a href="#md:sqlite-as-base-for-a-key-value-storage">SQLite as base for a key value storage</a></li>
</ul>
</li>
</ul>
<a id="md:installation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Installation<a href="#md:installation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">bun</span><span class="hl-1"> </span><span class="hl-2">add</span><span class="hl-1"> </span><span class="hl-2">bun-sqlite-key-value</span>
</code><button type="button">Copy</button></pre>

<a id="md:usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Usage<a href="#md:usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Using this key value store is dead simple:
create a new BunSqliteKeyValue instance and you're set.
And if you want to save the data permanently, enter the path to the database.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Use regular methods to write and read values.</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">, [</span><span class="hl-4">1</span><span class="hl-1">, </span><span class="hl-4">2</span><span class="hl-1">, </span><span class="hl-4">3</span><span class="hl-1">, </span><span class="hl-4">4</span><span class="hl-1">])</span><br/><span class="hl-1">store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; [ 1, 2, 3, 4 ]</span><br/><br/><span class="hl-5">// Or use the `data` object for simple write and read access.</span><br/><span class="hl-1">store.data.myKey </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&quot;Hello world!&quot;</span><br/><span class="hl-1">store.data.myKey </span><span class="hl-5">// --&gt; &quot;Hello World&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:open-database" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Open Database<a href="#md:open-database" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(filename</span><span class="hl-3">?</span><span class="hl-1">, options</span><span class="hl-3">?</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>Opens and creates the SQLite database either in memory or on the file system.</p>
<a id="md:filename-optional" class="tsd-anchor"></a><h3 class="tsd-anchor-link">filename (optional)<a href="#md:filename-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The full path of the SQLite database to open.
Pass an empty string (<code>&quot;&quot;</code>) or <code>&quot;:memory:&quot;</code> or <code>undefined</code> for an in-memory database.</p>
<a id="md:options-optional" class="tsd-anchor"></a><h3 class="tsd-anchor-link">options (optional)<a href="#md:options-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>readonly?: boolean</code>:
Open the database as read-only (default: false).</p>
<p><code>create?: boolean</code>:
Allow creating a new database (default: true).
If the database folder does not exist, it will be created.</p>
<p><code>readwrite?: boolean</code>:
Open the database as read-write (default: true).</p>
<p><code>ttlMs?: boolean</code>:
Default time span in milliseconds before an item
written to the DB becomes invalid and is marked for deletion.</p>
<p><code>maxExpiringItemsInDb?: number</code>:
Default value that specifies the maximum number of
expiring items that may be in the database.
Is used by the <code>deleteOldExpiringItems()</code> method as default value.</p>
<a id="md:example" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-5">// In-memory</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store1</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><span class="hl-5">// In-memory with 30 seconds default expiration timeout</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store2</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-2">&quot;:memory:&quot;</span><span class="hl-1">, {ttlMs: </span><span class="hl-4">30000</span><span class="hl-1">})</span><br/><span class="hl-5">// Store items in file system</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store3</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-2">&quot;./store3.sqlite&quot;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="md:close-database" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Close Database<a href="#md:close-database" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">close</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<p>Closes database and removes <em>.sqlite-shm</em> and <em>.sqlite-wal</em> files.</p>
<a id="md:write-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Write Value<a href="#md:write-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">set</span><span class="hl-1">(key: string </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">undefined</span><span class="hl-1">, value: any, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number): Key</span><br/><br/><span class="hl-1">data.</span><span class="hl-3">&lt;</span><span class="hl-1">key</span><span class="hl-3">&gt;</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> &lt;</span><span class="hl-0">value</span><span class="hl-1">&gt;</span><br/><span class="hl-1">data[&lt;</span><span class="hl-0">key</span><span class="hl-1">&gt;] = &lt;</span><span class="hl-0">value</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Writes a value into the database and returns the key.</p>
<a id="md:key" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The <code>key</code> can be a string or <code>undefined</code>.
If the <code>key</code> is <code>undefined</code>, a UUID is used instead.</p>
<a id="md:value" class="tsd-anchor"></a><h3 class="tsd-anchor-link">value<a href="#md:value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The value can be any object that can be serialized with
<a href="https://github.com/nodejs/node/blob/main/doc/api/v8.md#serialization-api" target="_blank" class="external">v8</a>.
This means that not only simple data types (string, number) are possible,
but also more complex types such as sets or maps.
You can find a list of the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm#supported_types" target="_blank" class="external">supported data types</a> here.</p>
<a id="md:ttlms-optional" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Stays in database</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.data.myKey2 </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&quot;my-value&quot;</span><br/><span class="hl-1">store.data[</span><span class="hl-2">&quot;myKey3&quot;</span><span class="hl-1">] </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&quot;my-value&quot;</span><br/><br/><span class="hl-5">// Becomes invalid after 30 seconds</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey6&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;item-with-ttl&quot;</span><span class="hl-1">, </span><span class="hl-4">30000</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Value<a href="#md:read-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">get</span><span class="hl-1">(key: string): any</span><br/><br/><span class="hl-1">data.</span><span class="hl-3">&lt;</span><span class="hl-1">key</span><span class="hl-3">&gt;</span><span class="hl-1">: any</span><br/><span class="hl-1">data[</span><span class="hl-3">&lt;</span><span class="hl-1">key</span><span class="hl-3">&gt;</span><span class="hl-1">]: any</span>
</code><button type="button">Copy</button></pre>

<p>Reads a value from the database.</p>
<a id="md:key-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; &quot;my-value&quot;</span><br/><br/><span class="hl-1">store.data.myKey </span><span class="hl-5">// --&gt; &quot;my-value&quot;</span><br/><span class="hl-1">store.data[</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">] </span><span class="hl-5">// --&gt; &quot;my-value&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-and-write-value-in-one-step" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read and Write Value (in one step)<a href="#md:read-and-write-value-in-one-step" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getSet</span><span class="hl-1">(key: string, value: any, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number)</span>
</code><button type="button">Copy</button></pre>

<p>Atomically sets key to value and returns the old value stored at key.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#getset" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#getset</a></p>
<a id="md:key-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:value-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">value<a href="#md:value-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The value can be any object that can be serialized with
<a href="https://github.com/nodejs/node/blob/main/doc/api/v8.md#serialization-api" target="_blank" class="external">v8</a>.
This means that not only simple data types (string, number) are possible,
but also more complex types such as sets or maps.
You can find a list of the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm#supported_types" target="_blank" class="external">supported data types</a> here.</p>
<a id="md:ttlms-optional-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;string-value-1&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">getSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;string-value-2&quot;</span><span class="hl-1">)) </span><span class="hl-5">// --&gt; &quot;string-value-1&quot;</span><br/><span class="hl-1">store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; &quot;string-value-2&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-multiple-values" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Multiple Values<a href="#md:read-multiple-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getValues</span><span class="hl-1">(startsWithOrKeys</span><span class="hl-3">?:</span><span class="hl-1"> string </span><span class="hl-3">|</span><span class="hl-1"> string[]): any[]</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-0">store</span><span class="hl-1">&gt;.values</span>
</code><button type="button">Copy</button></pre>

<p>Reads the data from the database and returns an array with the values.</p>
<a id="md:startswithorkeys" class="tsd-anchor"></a><h3 class="tsd-anchor-link">startsWithOrKeys<a href="#md:startswithorkeys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>undefined</code>: Returns an array with all values.</p>
<p><code>string</code>: Returns an array with all values whose keys begin with the passed string.
If you plan the names of the keys well, more complex data can be stored.
It is advisable to divide keys into ranges using separators.
For example <code>&quot;language:de&quot;</code>, <code>&quot;language:en&quot;</code>, <code>&quot;language:it&quot;</code>.
A search for <code>&quot;language:&quot;</code> would return all languages.</p>
<p><code>string[]</code>: Array with keys. The returned array is exactly
the same size as the passed array.
Items that are not found are returned as <code>undefined</code>.
Only exact matches with the keys are returned.</p>
<a id="md:example-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:it&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Italian&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">getValues</span><span class="hl-1">() </span><span class="hl-5">// --&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span><br/><span class="hl-1">store.</span><span class="hl-0">getValues</span><span class="hl-1">(</span><span class="hl-2">&quot;language:&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span><br/><br/><span class="hl-1">store.values </span><span class="hl-5">// --&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span>
</code><button type="button">Copy</button></pre>

<a id="md:write-multiple-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Write Multiple Items<a href="#md:write-multiple-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">setItems</span><span class="hl-1">(items: {key: string, value: </span><span class="hl-4">T</span><span class="hl-1">, ttlMs?: number}[])</span>
</code><button type="button">Copy</button></pre>

<p>Adds a large number of items to the database and takes only
a small fraction of the time that <code>set()</code> would take individually.</p>
<a id="md:example-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Add many records</span><br/><span class="hl-1">store.</span><span class="hl-0">setItems</span><span class="hl-1">([</span><br/><span class="hl-1">    {key: </span><span class="hl-2">&quot;a:1&quot;</span><span class="hl-1">, value: </span><span class="hl-2">&quot;test-value-1&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">    {key: </span><span class="hl-2">&quot;a:2&quot;</span><span class="hl-1">, value: </span><span class="hl-2">&quot;test-value-2&quot;</span><span class="hl-1">},</span><br/><span class="hl-1">])</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-item" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Item<a href="#md:read-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Reads the key and the value from the database.</p>
<pre><code class="typescript"><span class="hl-0">getItem</span><span class="hl-1">(key: string): {key: string, value: any}</span>
</code><button type="button">Copy</button></pre>

<a id="md:key-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">item</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> store.</span><span class="hl-0">getItem</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(item)  </span><span class="hl-5">// --&gt; {key: &quot;my-key&quot;, value: &quot;my-value&quot;}</span>
</code><button type="button">Copy</button></pre>

<a id="md:read-multiple-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Multiple Items<a href="#md:read-multiple-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getItems</span><span class="hl-1">(startsWithOrKeys</span><span class="hl-3">?:</span><span class="hl-1"> string </span><span class="hl-3">|</span><span class="hl-1"> string[]): {key: string, value: any}[]</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-0">store</span><span class="hl-1">&gt;.items</span>
</code><button type="button">Copy</button></pre>

<p>Reads the data from the database and returns items in an array as key-value pairs.</p>
<a id="md:startswithorkeys-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">startsWithOrKeys<a href="#md:startswithorkeys-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>undefined</code>: Returns all items (key, value) in an array.</p>
<p><code>string</code>: Returns all items (key, value) in an array whose keys begin with
the passed string.
If you plan the names of the keys well, more complex data can be stored.
It is advisable to divide keys into ranges using separators.
For example <code>&quot;language:de&quot;</code>, <code>&quot;language:en&quot;</code>, <code>&quot;language:it&quot;</code>.
A search for <code>&quot;language:&quot;</code> would return all languages.</p>
<p><code>string[]</code>: Array with keys. The returned array is exactly
the same size as the passed array.
Items that are not found are returned as <code>undefined</code>.
Only exact matches with the keys are returned.</p>
<a id="md:example-7" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:it&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Italian&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">getItems</span><span class="hl-1">(</span><span class="hl-2">&quot;language:&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; [</span><br/><span class="hl-5">//     {key: &quot;language:de&quot;, value: &quot;German&quot;},</span><br/><span class="hl-5">//     {key: &quot;language:en&quot;, value: &quot;English&quot;},</span><br/><span class="hl-5">//     {key: &quot;language:it&quot;, value: &quot;Italian&quot;}</span><br/><span class="hl-5">// ]</span><br/><br/><span class="hl-1">store.items </span><span class="hl-5">// --&gt; [</span><br/><span class="hl-5">//     {key: &quot;language:de&quot;, value: &quot;German&quot;},</span><br/><span class="hl-5">//     {key: &quot;language:en&quot;, value: &quot;English&quot;},</span><br/><span class="hl-5">//     {key: &quot;language:it&quot;, value: &quot;Italian&quot;}</span><br/><span class="hl-5">// ]</span><br/>
</code><button type="button">Copy</button></pre>

<a id="md:read-and-write-binary-files-images" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read and Write Binary Files (Images)<a href="#md:read-and-write-binary-files-images" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>SQLite has no problem with images and other binaries.
The maximum size of a binary file is 2 GB.</p>
<a id="md:example-async" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example (async)<a href="#md:example-async" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Read file from filesystem</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">sourceFile</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> Bun.</span><span class="hl-0">file</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Source File Path&gt;&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// Write ArrayBuffer into database (async !!!)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">, </span><span class="hl-3">await</span><span class="hl-1"> sourceFile.</span><span class="hl-0">arrayBuffer</span><span class="hl-1">())</span><br/><br/><span class="hl-5">// Read ArrayBuffer from database</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">targetArrayBuffer</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// Write target file to filesystem (async !!!)</span><br/><span class="hl-3">await</span><span class="hl-1"> Bun.</span><span class="hl-0">write</span><span class="hl-1">(Bun.</span><span class="hl-0">file</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Target File Path&gt;&quot;</span><span class="hl-1">), targetArrayBuffer)</span>
</code><button type="button">Copy</button></pre>

<a id="md:example-sync" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example (sync)<a href="#md:example-sync" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><span class="hl-3">import</span><span class="hl-1"> { readFileSync, writeFileSync } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;node:fs&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Read content from filesystem</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">sourceContent</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">readFileSync</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Source File Path&gt;&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// Write Buffer into database</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">, sourceContent)</span><br/><br/><span class="hl-5">// Read Buffer from database</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">targetBuffer</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;my-image&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// Write target file to filesystem</span><br/><span class="hl-0">writeFileSync</span><span class="hl-1">(</span><span class="hl-2">&quot;&lt;Target File Path&gt;&quot;</span><span class="hl-1">, targetBuffer)</span>
</code><button type="button">Copy</button></pre>

<a id="md:has-key" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Has (key)<a href="#md:has-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">has</span><span class="hl-1">(key: string): boolean</span><br/><br/><span class="hl-0">exists</span><span class="hl-1">(key: string) </span><span class="hl-5">// --&gt; alias for has()</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-0">key</span><span class="hl-1">&gt; </span><span class="hl-3">in</span><span class="hl-1"> </span><span class="hl-3">&lt;</span><span class="hl-1">store</span><span class="hl-3">&gt;</span><span class="hl-1">.data</span>
</code><button type="button">Copy</button></pre>

<p>Checks if key exists. Returns <code>false</code> if the item is expired.</p>
<a id="md:example-8" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">has</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; false</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1"> </span><span class="hl-3">in</span><span class="hl-1"> store.data) </span><span class="hl-5">// --&gt; false </span>
</code><button type="button">Copy</button></pre>

<a id="md:read-multiple-keys" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Read Multiple Keys<a href="#md:read-multiple-keys" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getKeys</span><span class="hl-1">(startsWithOrKeys</span><span class="hl-3">?:</span><span class="hl-1"> string </span><span class="hl-3">|</span><span class="hl-1"> string[]): string[]</span><br/><br/><span class="hl-1">&lt;</span><span class="hl-0">store</span><span class="hl-1">&gt;.keys </span><span class="hl-5">// --&gt; all keys</span>
</code><button type="button">Copy</button></pre>

<p>Reads the keys from the database and returns an array.</p>
<a id="md:startswithorkeys-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">startsWithOrKeys<a href="#md:startswithorkeys-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p><code>undefined</code>: Returns all keys in an array.</p>
<p><code>string</code>: Returns an array with the keys that begin with the passed string.
If you plan the names of the keys well, more complex data can be stored.
It is advisable to divide keys into ranges using separators.
For example <code>&quot;language:de&quot;</code>, <code>&quot;language:en&quot;</code>, <code>&quot;language:it&quot;</code>.
A search for <code>&quot;language:&quot;</code> would return all languages.</p>
<p><code>string[]</code>: Array with keys.
Only exact matches with the keys are returned.</p>
<a id="md:example-9" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language:es&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Esperanto&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">getKeys</span><span class="hl-1">() </span><span class="hl-5">// --&gt; [&quot;language:de&quot;, &quot;language:en&quot;, &quot;language:es&quot;]</span><br/><br/><span class="hl-1">store.keys </span><span class="hl-5">// --&gt; [&quot;language:de&quot;, &quot;language:en&quot;, &quot;language:es&quot;]</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">getKeys</span><span class="hl-1">(</span><span class="hl-2">&quot;language:e&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; [&quot;language:en&quot;, &quot;language:es&quot;]</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">getKeys</span><span class="hl-1">([</span><span class="hl-2">&quot;language:de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;language:fr&quot;</span><span class="hl-1">]) </span><span class="hl-5">// --&gt; [&quot;language:de&quot;]</span><br/>
</code><button type="button">Copy</button></pre>

<a id="md:rename-key" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Rename Key<a href="#md:rename-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">rename</span><span class="hl-1">(oldKey: string, newKey: string): boolean</span>
</code><button type="button">Copy</button></pre>

<p>Renames <code>oldKey</code> to <code>newKey</code>.
It returns <code>false</code> when <code>oldKey</code> does not exist.
If <code>newKey</code> already exists it is deleted first.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#rename" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#rename</a></p>
<a id="md:delete-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Delete Items<a href="#md:delete-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-3">delete</span><span class="hl-1">(keyOrKeys</span><span class="hl-3">?:</span><span class="hl-1"> string </span><span class="hl-3">|</span><span class="hl-1"> string[])</span><br/><br/><span class="hl-0">clear</span><span class="hl-1">() </span><span class="hl-5">// --&gt; delete all items</span><br/><br/><span class="hl-3">delete</span><span class="hl-1"> </span><span class="hl-3">&lt;</span><span class="hl-1">store</span><span class="hl-3">&gt;</span><span class="hl-1">.data.</span><span class="hl-3">&lt;</span><span class="hl-1">key</span><span class="hl-3">&gt;</span>
</code><button type="button">Copy</button></pre>

<p>Deletes all items if no parameter was passed.</p>
<p><code>key: string</code>: Deletes the item whose key was passed as a string.</p>
<p><code>keys: string[]</code>: Deletes the items whose keys were passed in an array.</p>
<a id="md:example-10" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Delete all items</span><br/><span class="hl-1">store.</span><span class="hl-0">delete</span><span class="hl-1">()</span><br/><span class="hl-1">store.</span><span class="hl-0">clear</span><span class="hl-1">()</span><br/><br/><span class="hl-5">// Delete one item</span><br/><span class="hl-1">store.</span><span class="hl-0">delete</span><span class="hl-1">(</span><span class="hl-2">&quot;myKey&quot;</span><span class="hl-1">)</span><br/><span class="hl-3">delete</span><span class="hl-1"> store.data.myKey</span><br/><br/><span class="hl-5">// Delete multiple items</span><br/><span class="hl-1">store.</span><span class="hl-0">delete</span><span class="hl-1">([</span><span class="hl-2">&quot;key1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;key2&quot;</span><span class="hl-1">])</span>
</code><button type="button">Copy</button></pre>

<a id="md:delete-expired-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Delete Expired Items<a href="#md:delete-expired-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">deleteExpired</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<p>Deletes all expired items.
These are items whose TTL (Time to live) has expired.
These items are not deleted continuously,
but only when they are accessed directly or when the database is opened.
If you want to delete the expired items in between,
you can do this with <code>deleteExpired()</code>.</p>
<a id="md:delete-old-expiring-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Delete Old Expiring Items<a href="#md:delete-old-expiring-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">deleteOldExpiringItems</span><span class="hl-1">(maxExpiringItemsInDb</span><span class="hl-3">?:</span><span class="hl-1"> number)</span>
</code><button type="button">Copy</button></pre>

<p>If there are more expiring items in the database than <code>maxExpiringItemsInDb</code>,
the oldest items are deleted until there are only <code>maxExpiringItemsInDb</code> items with
an expiration date in the database.</p>
<a id="md:example-11" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;static:1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;static:2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-4">4000</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-4">5000</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:3&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-4">6000</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">deleteOldExpiringItems</span><span class="hl-1">(</span><span class="hl-4">2</span><span class="hl-1">)</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(store.</span><span class="hl-0">getKeys</span><span class="hl-1">(</span><span class="hl-2">&quot;dynamic:&quot;</span><span class="hl-1">))</span><br/><span class="hl-5">// --&gt; [ &quot;dynamic:2&quot;, &quot;dynamic:3&quot; ]</span>
</code><button type="button">Copy</button></pre>

<a id="md:count-all-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Count All Items<a href="#md:count-all-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getCount</span><span class="hl-1">(): number</span><br/><br/><span class="hl-0">count</span><span class="hl-1">() </span><span class="hl-5">// --&gt; alias for getCount()</span><br/><span class="hl-1">length </span><span class="hl-5">// --&gt; getter method for `getCount()`</span>
</code><button type="button">Copy</button></pre>

<p>Returns the number of all items, including those that have already expired.
The fact that possibly expired items are also counted is for reasons of speed.
Use <code>getCountValid()</code> if you want to get the number of items that have not yet expired.
If you do not use <code>ttlMs</code> (time to live), <code>getCount()</code> is faster than <code>getCountValid()</code>.</p>
<a id="md:example-12" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value1&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value2&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">getCount</span><span class="hl-1">() </span><span class="hl-5">// --&gt; 2</span><br/><span class="hl-1">store.</span><span class="hl-4">length</span><span class="hl-1"> </span><span class="hl-5">// --&gt; 2</span>
</code><button type="button">Copy</button></pre>

<a id="md:count-valid-items" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Count Valid Items<a href="#md:count-valid-items" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getCountValid</span><span class="hl-1">(deleteExpired</span><span class="hl-3">?:</span><span class="hl-1"> boolean): number</span>
</code><button type="button">Copy</button></pre>

<p>Returns the number of valid (non-expired) items.
Can also delete the expired items.</p>
<a id="md:deleteexpired" class="tsd-anchor"></a><h3 class="tsd-anchor-link">deleteExpired<a href="#md:deleteexpired" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If <code>true</code> is passed, the expired items are deleted first
before the items are counted.</p>
<p>If the parameter is not specified or <code>false</code> is passed,
then only the items that have no expiration date or
whose expiration date is in the future are counted.</p>
<a id="md:example-13" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value1&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value2&quot;</span><span class="hl-1">, </span><span class="hl-4">100</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">getCountValid</span><span class="hl-1">() </span><span class="hl-5">// --&gt; 2</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> Bun.</span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-4">500</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">getCountValid</span><span class="hl-1">() </span><span class="hl-5">// --&gt; 1</span>
</code><button type="button">Copy</button></pre>

<a id="md:cache-values-with-ttl" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Cache Values with TTL<a href="#md:cache-values-with-ttl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>You can specify a caching period when you open the database.
This period in milliseconds is then added with each write.
If you read the value within this period, the value is returned.
If the value is read after this period, <code>undefined</code> is returned.</p>
<a id="md:example-14" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(</span><span class="hl-2">&quot;:memory:&quot;</span><span class="hl-1">, {ttlMs: </span><span class="hl-4">1000</span><span class="hl-1">})</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">KEY</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-2">&quot;cache-key&quot;</span><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-4">KEY</span><span class="hl-1">, </span><span class="hl-4">12345</span><span class="hl-1">)</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> Bun.</span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-4">500</span><span class="hl-1">)</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-4">KEY</span><span class="hl-1">)) </span><span class="hl-5">// --&gt; 12345</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> Bun.</span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-4">1000</span><span class="hl-1">)</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-4">KEY</span><span class="hl-1">)) </span><span class="hl-5">// --&gt; undefined</span>
</code><button type="button">Copy</button></pre>

<a id="md:set-ttl" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Set TTL<a href="#md:set-ttl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">setTtl</span><span class="hl-1">(key: string, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number): boolean</span>
</code><button type="button">Copy</button></pre>

<p>Renews or deletes the TTL of the database row.
Returns <code>true</code> if the <code>key</code> exists.</p>
<a id="md:key-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:ttlms-optional-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Uses the global <code>ttlMs</code> as default value.
Set the value to 0 if you want to delete the TTL.</p>
<a id="md:example-15" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-4">10000</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// Update TTL</span><br/><span class="hl-1">store.</span><span class="hl-0">setTtl</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-4">10000</span><span class="hl-1">) </span><span class="hl-5">// --&gt; true</span><br/><br/><span class="hl-5">// Delete TTL</span><br/><span class="hl-1">store.</span><span class="hl-0">setTtl</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-4">0</span><span class="hl-1">) </span><span class="hl-5">// --&gt; true</span>
</code><button type="button">Copy</button></pre>

<a id="md:get-ttl" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Get TTL<a href="#md:get-ttl" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getTtl</span><span class="hl-1">(key: string): number </span><span class="hl-3">|</span><span class="hl-1"> </span><span class="hl-4">undefined</span>
</code><button type="button">Copy</button></pre>

<p>Returns how long the data record is still valid (in milliseconds).
Returns <code>undefined</code> if the <code>key</code> does not exist or no expiration date has been set.</p>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#ttl" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#ttl</a></p>
<a id="md:key-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-16" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;my-value&quot;</span><span class="hl-1">, </span><span class="hl-4">20000</span><span class="hl-1">)</span><br/><span class="hl-3">await</span><span class="hl-1"> Bun.</span><span class="hl-0">sleep</span><span class="hl-1">(</span><span class="hl-4">1</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">getTtl</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 19999</span>
</code><button type="button">Copy</button></pre>

<a id="md:random-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Random Value<a href="#md:random-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getRandomValue</span><span class="hl-1">(): any </span><span class="hl-5">// --&gt; random value</span><br/><br/><span class="hl-0">randomValue</span><span class="hl-1">() </span><span class="hl-5">// --&gt; alias for getRandomValue()</span>
</code><button type="button">Copy</button></pre>

<p>Returns a random value or <code>undefined</code> if no valid item was found.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#randomkey" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#randomkey</a></p>
<a id="md:random-item" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Random Item<a href="#md:random-item" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getRandomItem</span><span class="hl-1">() </span><span class="hl-5">// --&gt; random item</span><br/><br/><span class="hl-0">randomItem</span><span class="hl-1">() </span><span class="hl-5">// --&gt; alias for getRandomItem()</span>
</code><button type="button">Copy</button></pre>

<p>Returns a random item or <code>undefined</code> if no valid item was found.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#randomkey" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#randomkey</a></p>
<a id="md:random-key" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Random Key<a href="#md:random-key" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">getRandomKey</span><span class="hl-1">() </span><span class="hl-5">// --&gt; random key</span><br/><br/><span class="hl-0">randomKey</span><span class="hl-1">() </span><span class="hl-5">// --&gt; alias for getRandomKey()</span>
</code><button type="button">Copy</button></pre>

<p>Returns a random key or <code>undefined</code> if no valid item was found.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#randomkey" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#randomkey</a></p>
<a id="md:increment" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Increment<a href="#md:increment" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">incr</span><span class="hl-1">(key: string, incrBy: number </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-4">1</span><span class="hl-1">, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number): number</span>
</code><button type="button">Copy</button></pre>

<p>Increments the saved number by <code>incrBy</code> (default = 1),
saves the new number and returns it.
If the key does not yet exist in the database,
the value is set to 0 before being incremented by <code>incrBy</code>.
If a string is stored in the database that can be converted into a number,
this is converted first.
If the stored value cannot be converted into a number, <code>NaN</code> is returned.</p>
<a id="md:key-6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:incrby" class="tsd-anchor"></a><h3 class="tsd-anchor-link">incrBy<a href="#md:incrby" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The stored number is increased by this value.</p>
<a id="md:ttlms-optional-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-17" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-17" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 1</span><br/><span class="hl-1">store.</span><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 2</span>
</code><button type="button">Copy</button></pre>

<a id="md:decrement" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Decrement<a href="#md:decrement" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">decr</span><span class="hl-1">(key: string, decrBy: number </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-4">1</span><span class="hl-1">, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number): number</span>
</code><button type="button">Copy</button></pre>

<p>Decrements the saved number by <code>decrBy</code> (default = 1),
saves the new number and returns it.
If the key does not yet exist in the database,
the value is set to 0 before being decremented by <code>decrBy</code>.
If a string is stored in the database that can be converted into a number,
this is converted first.
If the stored value cannot be converted into a number, <code>NaN</code> is returned.</p>
<a id="md:key-7" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:incrby-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">incrBy<a href="#md:incrby-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The stored number is decreased by this value.</p>
<a id="md:ttlms-optional-4" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-18" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-18" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-4">10</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">decr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 9</span><br/><span class="hl-1">store.</span><span class="hl-0">decr</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 8</span>
</code><button type="button">Copy</button></pre>

<a id="md:append" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Append<a href="#md:append" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">append</span><span class="hl-1">(key: string, value: string, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number): number</span>
</code><button type="button">Copy</button></pre>

<p>If key already exists, this command appends the value at the end of the string.
If key does not exist it is created and set as an empty string,
so <code>append()</code> will be similar to <code>set()</code> in this special case.
Inspired by: <a href="https://docs.keydb.dev/docs/commands/#append" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#append</a></p>
<p>Returns the length of the string after the append operation.</p>
<a id="md:key-8" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:value-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">value<a href="#md:value-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The string that is appended to the existing string.</p>
<a id="md:ttlms-optional-5" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds. After this time,
the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-19" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-19" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Hello!&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 6</span><br/><span class="hl-1">store.</span><span class="hl-0">append</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;World!&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 12 </span><br/><span class="hl-1">store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; &quot;Hello!World!&quot;</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---write-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Write Value<a href="#md:hash-map-object---write-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hSet</span><span class="hl-1">(key: string, field: string, value: any, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number)</span>
</code><button type="button">Copy</button></pre>

<p>First the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank" class="external">JavaScript Map Object</a>
is read from the database.
If the data record does not yet exist, a new &quot;Map Object&quot; is created.
Then the entry marked with <code>field</code> is added to the &quot;Map Object&quot; or overwritten.
Finally, the modified &quot;Map Object&quot; is written back to the database.</p>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hset" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hset</a></p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<a id="md:key-9" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:field" class="tsd-anchor"></a><h3 class="tsd-anchor-link">field<a href="#md:field" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The field name must be a string.</p>
<a id="md:value-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">value<a href="#md:value-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The value can be any object that can be serialized with
<a href="https://github.com/nodejs/node/blob/main/doc/api/v8.md#serialization-api" target="_blank" class="external">v8</a>.
This means that not only simple data types (string, number) are possible,
but also more complex types such as sets or maps.
You can find a list of the
<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm#supported_types" target="_blank" class="external">supported data types</a> here.</p>
<a id="md:ttlms-optional-6" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds (for the database line, marked with <code>key</code>).
After this time, the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-20" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-20" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">hSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;value-2&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; Map(2) {</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;name-1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-2">&quot;name-2&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-2&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---read-value" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Read Value<a href="#md:hash-map-object---read-value" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hGet</span><span class="hl-1">(key: string, field: string)</span>
</code><button type="button">Copy</button></pre>

<p>First the
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map" target="_blank" class="external">JavaScript Map Object</a>
is read from the database.
If the data record (marked with <code>key</code>) does not exist, <code>undefined</code> is returned.
If the field (marked with <code>field</code>) does not exist in the &quot;Map Object&quot;, <code>undefined</code> is returned.</p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hget" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hget</a></p>
<a id="md:key-10" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:field-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">field<a href="#md:field-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The field name must be a string.</p>
<a id="md:example-21" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-21" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hGet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; &quot;value-1&quot;</span><br/><span class="hl-1">store.</span><span class="hl-0">hGet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-2&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; undefined</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---write-multiple-values" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Write Multiple Values<a href="#md:hash-map-object---write-multiple-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hmSet</span><span class="hl-1">(key: string, fields: {[field: string]: </span><span class="hl-4">T</span><span class="hl-1">}, ttlMs</span><span class="hl-3">?:</span><span class="hl-1"> number)</span>
</code><button type="button">Copy</button></pre>

<p>Like <code>hSet()</code>, with the difference that several fields
are written to the database in one go.</p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hmset" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hmset</a></p>
<a id="md:key-11" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:fields" class="tsd-anchor"></a><h3 class="tsd-anchor-link">fields<a href="#md:fields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Object with field names (keys) and values.</p>
<a id="md:ttlms-optional-7" class="tsd-anchor"></a><h3 class="tsd-anchor-link">ttlMs (optional)<a href="#md:ttlms-optional-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>&quot;Time to live&quot; in milliseconds (for the database line, marked with <code>key</code>).
After this time, the item becomes invalid and is deleted from the database
the next time it is accessed or when the application is started.
Set the value to 0 if you want to explicitly deactivate the process.</p>
<a id="md:example-22" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-22" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hmSet</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-2&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-2&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-3&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-3&quot;</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---read-multiple-values" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Read Multiple Values<a href="#md:hash-map-object---read-multiple-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hmGet</span><span class="hl-1">(key: string, fields: fields</span><span class="hl-3">?:</span><span class="hl-1"> string[])</span>
</code><button type="button">Copy</button></pre>

<p>Like <code>hGet()</code>, with the difference that several fields are read in one go.</p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hmget" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hmget</a></p>
<a id="md:key-12" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:fields-1" class="tsd-anchor"></a><h3 class="tsd-anchor-link">fields<a href="#md:fields-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Array with field names.
If the parameter is not specified, all fields are returned.</p>
<a id="md:example-23" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-23" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hmSet</span><span class="hl-1">(</span><span class="hl-2">&quot;my-key&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-2&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-2&quot;</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hmGet</span><span class="hl-1">(</span><span class="hl-4">KEY_1</span><span class="hl-1">, [</span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-100&quot;</span><span class="hl-1">]) </span><span class="hl-5">// --&gt; {</span><br/><span class="hl-5">//   &quot;field-1&quot;: &quot;value-1&quot;,</span><br/><span class="hl-5">//   &quot;field-100&quot;: undefined,</span><br/><span class="hl-5">// }</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---has-field" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Has Field<a href="#md:hash-map-object---has-field" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hHasField</span><span class="hl-1">(key: string, field: string)</span>
</code><button type="button">Copy</button></pre>

<p>Returns if <code>field</code> is an existing field in the hash stored at <code>key</code>.</p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hexists" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hexists</a></p>
<a id="md:key-13" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:field-2" class="tsd-anchor"></a><h3 class="tsd-anchor-link">field<a href="#md:field-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The field name must be a string.</p>
<a id="md:example-24" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-24" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hHasField</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; true</span><br/><span class="hl-1">store.</span><span class="hl-0">hHasField</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; undefined</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---count-fields" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Count Fields<a href="#md:hash-map-object---count-fields" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hGetCount</span><span class="hl-1">(key: string)</span>
</code><button type="button">Copy</button></pre>

<p>Returns the number of fields contained in the hash stored at <code>key</code>.</p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hlen" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hlen</a></p>
<a id="md:key-14" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-25" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-25" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hGetCount</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; undefined</span><br/><span class="hl-1">store.</span><span class="hl-0">hSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">store.</span><span class="hl-0">hGetCount</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; 1</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---get-all-field-names" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Get All Field Names<a href="#md:hash-map-object---get-all-field-names" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hGetFields</span><span class="hl-1">(key: string)</span>
</code><button type="button">Copy</button></pre>

<p>Returns the field names contained in the hash stored at <code>key</code>.
Use <code>hmGet()</code> to read field names and values.</p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hkeys" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hkeys</a></p>
<a id="md:key-15" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-26" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-26" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hmSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-2&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-2&quot;</span><br/><span class="hl-1">})</span><br/><span class="hl-1">store.</span><span class="hl-0">hGetFields</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; [&quot;field-1&quot;, &quot;field-2&quot;]</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---get-all-values" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Get All Values<a href="#md:hash-map-object---get-all-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hGetValues</span><span class="hl-1">(key: string)</span>
</code><button type="button">Copy</button></pre>

<p>Returns the values contained in the hash stored at <code>key</code>.
Use <code>hmGet()</code> to read field names and values.</p>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hvals" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hvals</a></p>
<a id="md:key-16" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:example-27" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-27" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="TypeScript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.</span><span class="hl-0">hmSet</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-1&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-1&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&quot;field-2&quot;</span><span class="hl-1">: </span><span class="hl-2">&quot;value-2&quot;</span><br/><span class="hl-1">})</span><br/><span class="hl-1">store.</span><span class="hl-0">hGetValues</span><span class="hl-1">(</span><span class="hl-2">&quot;key-1&quot;</span><span class="hl-1">) </span><span class="hl-5">// --&gt; [&quot;value-1&quot;, &quot;value-2&quot;]</span>
</code><button type="button">Copy</button></pre>

<a id="md:hash-map-object---delete-field" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Hash (Map Object) - Delete Field<a href="#md:hash-map-object---delete-field" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-0">hDelete</span><span class="hl-1">(key: string, field: string)</span>
</code><button type="button">Copy</button></pre>

<p>Deletes a field of the map object.</p>
<ul>
<li>Returns <code>undefined</code> if the key does not exist.</li>
<li>Returns <code>true</code> if the field existed and was deleted.</li>
<li>Returns <code>false</code> if the field did not exist.</li>
</ul>
<blockquote>
<p>Do not use the hash functions with several very large amounts (megabytes) of data or blobs.
This is because the entire data record with all fields is always read and written.
It is better to use <code>setValues()</code> and <code>getValues()</code> for large amounts of data.</p>
</blockquote>
<p>Inspired by: <a href="https://docs.keydb.dev/docs/commands/#hdel" target="_blank" class="external">https://docs.keydb.dev/docs/commands/#hdel</a></p>
<a id="md:key-17" class="tsd-anchor"></a><h3 class="tsd-anchor-link">key<a href="#md:key-17" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The key must be a string.</p>
<a id="md:field-3" class="tsd-anchor"></a><h3 class="tsd-anchor-link">field<a href="#md:field-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>The field name must be a string.</p>
<a id="md:multiple-databases" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Multiple Databases<a href="#md:multiple-databases" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>It is no problem at all to use several databases and access them at the same time.</p>
<a id="md:example-28" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-28" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><span class="hl-3">import</span><span class="hl-1"> { join } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;node:path&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">dbDir</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">join</span><span class="hl-1">(__dirname, </span><span class="hl-2">&quot;databases&quot;</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">settingsPath</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">join</span><span class="hl-1">(dbDir, </span><span class="hl-2">&quot;settings.sqlite&quot;</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">languagesPath</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-0">join</span><span class="hl-1">(dbDir, </span><span class="hl-2">&quot;languages.sqlite&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">settingsStore</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(settingsPath)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">languagesStore</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">(languagesPath)</span><br/><br/><span class="hl-5">// Write settings</span><br/><span class="hl-1">settingsStore.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;language&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;de&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">settingsStore.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;page-size&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;A4&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">settingsStore.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;screen-position&quot;</span><span class="hl-1">, {top: </span><span class="hl-4">100</span><span class="hl-1">, left: </span><span class="hl-4">100</span><span class="hl-1">})</span><br/><br/><span class="hl-5">// Write languages</span><br/><span class="hl-1">languagesStore.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;de&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;German&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">languagesStore.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;en&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;English&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">languagesStore.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;it&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;Italian&quot;</span><span class="hl-1">)</span><br/><br/><span class="hl-5">// Read all settings</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">settingItems</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> settingsStore.</span><span class="hl-0">getItems</span><span class="hl-1">()</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(settingItems) </span><span class="hl-5">// --&gt; [</span><br/><span class="hl-5">//   {key: &quot;language&quot;, value: &quot;de&quot;},</span><br/><span class="hl-5">//   {key: &quot;page-size&quot;, value: &quot;A4&quot;},</span><br/><span class="hl-5">//   {key: &quot;screen-position&quot;, value: {top: 100, left: 100}},</span><br/><span class="hl-5">// ]</span><br/><br/><span class="hl-5">// Read all languages</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">languageValues</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> languagesStore.</span><span class="hl-0">getValues</span><span class="hl-1">()</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(languageValues) </span><span class="hl-5">// --&gt; [ &quot;German&quot;, &quot;English&quot;, &quot;Italian&quot; ]</span><br/><br/><span class="hl-5">// Read current language</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">languageKey</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> settingsStore.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;language&quot;</span><span class="hl-1">)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">currentLanguage</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> languagesStore.</span><span class="hl-0">get</span><span class="hl-1">(languageKey)</span><br/><span class="hl-1">console.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Current language: &quot;${</span><span class="hl-1">currentLanguage</span><span class="hl-2">}&quot;`</span><span class="hl-1">) </span><span class="hl-5">// --&gt; Current language: &quot;German&quot;</span><br/><br/><span class="hl-5">// Close DBs</span><br/><span class="hl-1">settingsStore.</span><span class="hl-0">close</span><span class="hl-1">()</span><br/><span class="hl-1">languagesStore.</span><span class="hl-0">close</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<a id="md:database-transactions" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Database Transactions<a href="#md:database-transactions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Transactions can be used to combine several database statements.
These combined database statements are processed much faster than
if they were executed individually.
The more database statements are combined, the greater the speed advantage.
You can find more infos in the
<a href="https://bun.sh/docs/api/sqlite#transactions" target="_blank" class="external">Bun documentation</a>.</p>
<a id="md:example-29" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Example<a href="#md:example-29" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { BunSqliteKeyValue } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&quot;bun-sqlite-key-value&quot;</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">store</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">BunSqliteKeyValue</span><span class="hl-1">()</span><br/><br/><span class="hl-1">store.db.</span><span class="hl-0">transaction</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;key1&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;100&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;key2&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;200&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;key3&quot;</span><span class="hl-1">, </span><span class="hl-2">&quot;300&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">})()</span><br/><br/><span class="hl-1">store.db.</span><span class="hl-0">transaction</span><span class="hl-1">(() </span><span class="hl-3">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">value1</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;key1&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">value2</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;key2&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">value3</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> store.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&quot;key3&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-4">total</span><span class="hl-1"> </span><span class="hl-3">=</span><span class="hl-1"> value1 </span><span class="hl-3">+</span><span class="hl-1"> value2 </span><span class="hl-3">+</span><span class="hl-1"> value3</span><br/><span class="hl-1">    store.</span><span class="hl-0">set</span><span class="hl-1">(</span><span class="hl-2">&quot;total1&quot;</span><span class="hl-1">, total)</span><br/><span class="hl-1">})()</span>
</code><button type="button">Copy</button></pre>

<a id="md:sqlite-as-base-for-a-key-value-storage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">SQLite as base for a key value storage<a href="#md:sqlite-as-base-for-a-key-value-storage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>SQLite provides a solid and well-tested foundation.
SQLite reliably takes care of saving and reading data -
both for short strings and for larger BLOBs.
It provides a robust foundation on which to build.
Even if SQLite is not fully utilized and no relations between tables are required,
this is not a disadvantage.</p>
<p>Please give this <a href="https://github.com/gerold-penz/bun-sqlite-key-value" target="_blank" class="external">GitHub project</a>
a  if this project is useful to you. Thank you very much!
And if you speak German, here is my business homepage:
<a href="https://gp-softwaretechnik.at/" target="_blank" class="external">GP-Softwaretechnik</a>
Maybe you will find something interesting for you there. </p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:bun-sqlite-key-value"><span>Bun SQLite <wbr/>Key <wbr/>Value</span></a><ul><li><a href="#md:table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#md:installation"><span>Installation</span></a></li><li><a href="#md:usage"><span>Usage</span></a></li><li><a href="#md:open-database"><span>Open <wbr/>Database</span></a></li><li><ul><li><a href="#md:filename-optional"><span>filename (optional)</span></a></li><li><a href="#md:options-optional"><span>options (optional)</span></a></li><li><a href="#md:example"><span>Example</span></a></li></ul></li><li><a href="#md:close-database"><span>Close <wbr/>Database</span></a></li><li><a href="#md:write-value"><span>Write <wbr/>Value</span></a></li><li><ul><li><a href="#md:key"><span>key</span></a></li><li><a href="#md:value"><span>value</span></a></li><li><a href="#md:ttlms-optional"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-1"><span>Example</span></a></li></ul></li><li><a href="#md:read-value"><span>Read <wbr/>Value</span></a></li><li><ul><li><a href="#md:key-1"><span>key</span></a></li><li><a href="#md:example-2"><span>Example</span></a></li></ul></li><li><a href="#md:read-and-write-value-in-one-step"><span>Read and <wbr/>Write <wbr/>Value (in one step)</span></a></li><li><ul><li><a href="#md:key-2"><span>key</span></a></li><li><a href="#md:value-1"><span>value</span></a></li><li><a href="#md:ttlms-optional-1"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-3"><span>Example</span></a></li></ul></li><li><a href="#md:read-multiple-values"><span>Read <wbr/>Multiple <wbr/>Values</span></a></li><li><ul><li><a href="#md:startswithorkeys"><span>starts<wbr/>With<wbr/>Or<wbr/>Keys</span></a></li><li><a href="#md:example-4"><span>Example</span></a></li></ul></li><li><a href="#md:write-multiple-items"><span>Write <wbr/>Multiple <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-5"><span>Example</span></a></li></ul></li><li><a href="#md:read-item"><span>Read <wbr/>Item</span></a></li><li><ul><li><a href="#md:key-3"><span>key</span></a></li><li><a href="#md:example-6"><span>Example</span></a></li></ul></li><li><a href="#md:read-multiple-items"><span>Read <wbr/>Multiple <wbr/>Items</span></a></li><li><ul><li><a href="#md:startswithorkeys-1"><span>starts<wbr/>With<wbr/>Or<wbr/>Keys</span></a></li><li><a href="#md:example-7"><span>Example</span></a></li></ul></li><li><a href="#md:read-and-write-binary-files-images"><span>Read and <wbr/>Write <wbr/>Binary <wbr/>Files (<wbr/>Images)</span></a></li><li><ul><li><a href="#md:example-async"><span>Example (async)</span></a></li><li><a href="#md:example-sync"><span>Example (sync)</span></a></li></ul></li><li><a href="#md:has-key"><span>Has (key)</span></a></li><li><ul><li><a href="#md:example-8"><span>Example</span></a></li></ul></li><li><a href="#md:read-multiple-keys"><span>Read <wbr/>Multiple <wbr/>Keys</span></a></li><li><ul><li><a href="#md:startswithorkeys-2"><span>starts<wbr/>With<wbr/>Or<wbr/>Keys</span></a></li><li><a href="#md:example-9"><span>Example</span></a></li></ul></li><li><a href="#md:rename-key"><span>Rename <wbr/>Key</span></a></li><li><a href="#md:delete-items"><span>Delete <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-10"><span>Example</span></a></li></ul></li><li><a href="#md:delete-expired-items"><span>Delete <wbr/>Expired <wbr/>Items</span></a></li><li><a href="#md:delete-old-expiring-items"><span>Delete <wbr/>Old <wbr/>Expiring <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-11"><span>Example</span></a></li></ul></li><li><a href="#md:count-all-items"><span>Count <wbr/>All <wbr/>Items</span></a></li><li><ul><li><a href="#md:example-12"><span>Example</span></a></li></ul></li><li><a href="#md:count-valid-items"><span>Count <wbr/>Valid <wbr/>Items</span></a></li><li><ul><li><a href="#md:deleteexpired"><span>delete<wbr/>Expired</span></a></li><li><a href="#md:example-13"><span>Example</span></a></li></ul></li><li><a href="#md:cache-values-with-ttl"><span>Cache <wbr/>Values with TTL</span></a></li><li><ul><li><a href="#md:example-14"><span>Example</span></a></li></ul></li><li><a href="#md:set-ttl"><span>Set TTL</span></a></li><li><ul><li><a href="#md:key-4"><span>key</span></a></li><li><a href="#md:ttlms-optional-2"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-15"><span>Example</span></a></li></ul></li><li><a href="#md:get-ttl"><span>Get TTL</span></a></li><li><ul><li><a href="#md:key-5"><span>key</span></a></li><li><a href="#md:example-16"><span>Example</span></a></li></ul></li><li><a href="#md:random-value"><span>Random <wbr/>Value</span></a></li><li><a href="#md:random-item"><span>Random <wbr/>Item</span></a></li><li><a href="#md:random-key"><span>Random <wbr/>Key</span></a></li><li><a href="#md:increment"><span>Increment</span></a></li><li><ul><li><a href="#md:key-6"><span>key</span></a></li><li><a href="#md:incrby"><span>incr<wbr/>By</span></a></li><li><a href="#md:ttlms-optional-3"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-17"><span>Example</span></a></li></ul></li><li><a href="#md:decrement"><span>Decrement</span></a></li><li><ul><li><a href="#md:key-7"><span>key</span></a></li><li><a href="#md:incrby-1"><span>incr<wbr/>By</span></a></li><li><a href="#md:ttlms-optional-4"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-18"><span>Example</span></a></li></ul></li><li><a href="#md:append"><span>Append</span></a></li><li><ul><li><a href="#md:key-8"><span>key</span></a></li><li><a href="#md:value-2"><span>value</span></a></li><li><a href="#md:ttlms-optional-5"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-19"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---write-value"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Write <wbr/>Value</span></a></li><li><ul><li><a href="#md:key-9"><span>key</span></a></li><li><a href="#md:field"><span>field</span></a></li><li><a href="#md:value-3"><span>value</span></a></li><li><a href="#md:ttlms-optional-6"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-20"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---read-value"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Read <wbr/>Value</span></a></li><li><ul><li><a href="#md:key-10"><span>key</span></a></li><li><a href="#md:field-1"><span>field</span></a></li><li><a href="#md:example-21"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---write-multiple-values"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Write <wbr/>Multiple <wbr/>Values</span></a></li><li><ul><li><a href="#md:key-11"><span>key</span></a></li><li><a href="#md:fields"><span>fields</span></a></li><li><a href="#md:ttlms-optional-7"><span>ttl<wbr/>Ms (optional)</span></a></li><li><a href="#md:example-22"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---read-multiple-values"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Read <wbr/>Multiple <wbr/>Values</span></a></li><li><ul><li><a href="#md:key-12"><span>key</span></a></li><li><a href="#md:fields-1"><span>fields</span></a></li><li><a href="#md:example-23"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---has-field"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Has <wbr/>Field</span></a></li><li><ul><li><a href="#md:key-13"><span>key</span></a></li><li><a href="#md:field-2"><span>field</span></a></li><li><a href="#md:example-24"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---count-fields"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Count <wbr/>Fields</span></a></li><li><ul><li><a href="#md:key-14"><span>key</span></a></li><li><a href="#md:example-25"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---get-all-field-names"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Get <wbr/>All <wbr/>Field <wbr/>Names</span></a></li><li><ul><li><a href="#md:key-15"><span>key</span></a></li><li><a href="#md:example-26"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---get-all-values"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Get <wbr/>All <wbr/>Values</span></a></li><li><ul><li><a href="#md:key-16"><span>key</span></a></li><li><a href="#md:example-27"><span>Example</span></a></li></ul></li><li><a href="#md:hash-map-object---delete-field"><span>Hash (<wbr/>Map <wbr/>Object) -<wbr/> <wbr/>Delete <wbr/>Field</span></a></li><li><ul><li><a href="#md:key-17"><span>key</span></a></li><li><a href="#md:field-3"><span>field</span></a></li></ul></li><li><a href="#md:multiple-databases"><span>Multiple <wbr/>Databases</span></a></li><li><ul><li><a href="#md:example-28"><span>Example</span></a></li></ul></li><li><a href="#md:database-transactions"><span>Database <wbr/>Transactions</span></a></li><li><ul><li><a href="#md:example-29"><span>Example</span></a></li></ul></li><li><a href="#md:sqlite-as-base-for-a-key-value-storage"><span>SQLite as base for a key value storage</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/gerold-penz/bun-sqlite-key-value" class="tsd-nav-link">GitHub</a></nav><nav class="tsd-navigation"><a href="index.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Bun SQlite Key Value</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p><p>By Gerold Penz - <a href='https://gp-softwaretechnik.at/' target='_blank'>GP-Softwaretechnik</a>.</p></footer><div class="overlay"></div></body></html>
